<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>giosg API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.giosg.com' target="_blank">Sign Up on giosg.com</a></li>
            <li><a href="https://docs.giosg.com/doku.php?id=public:technical-documentation:backend-api" target="_blank">Old API documentation</a></li>
            <li><a href='https://github.com/tripit/slate' target="_blank">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="using-the-api">Using the API</h1>

<aside class="warning">
This documentation is a <strong>draft</strong>!
</aside>

<aside class="success">
<strong>This is the new, recommended version of giosg API, preferred over the <a href="https://docs.giosg.com/doku.php?id=public:technical-documentation:backend-api">old deprecated API</a>!</strong>
</aside>

<h2 id="authentication">Authentication</h2>

<p>You need to provide a valid API key in order access the API. You can create an API key from <a href="https://service.giosg.com/en/settings/#/live/company/tokens">&ldquo;API keys&rdquo; section in your company settings</a>:</p>

<p><em>Log in to Console → Settings Menu → Company → API keys</em></p>

<p>Once you have obtained your API key, define the Authorization HTTP header for all your API requests:</p>

<p><code class="prettyprint">Authorization: Token 12d5da2085267caa5e41594a47b47e08fcef2530</code></p>

<aside class="notice">
The string in the end of the header should be replaced with your API key.
</aside>

<p>Alternatively, if you are unable to customize headers, you may add the token as a GET parameter: <code class="prettyprint">token=12d5da2085267caa5e41594a47b47e08fcef2530</code>. However, we strongly recommend using HTTP headers.</p>

<h2 id="accept-header">Accept Header</h2>

<p>You also need to define that you accept JSON-formatted responses by providing the Accept HTTP header:</p>

<p><code class="prettyprint">Accept: application/json</code></p>

<p>Alternatively, if you are unable to customize headers, you may add <code class="prettyprint">format=json</code> GET parameter.</p>

<h2 id="resource-identifiers">Resource identifiers</h2>

<p>Unless stated otherwise, all the resources in the system are identified with a <a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Universally Unique Identifier (UUID)</a>. It is always represented as a string ID, in lower case and including dashes.</p>

<p>For example: <code class="prettyprint">9ae65e7d-56c5-11e5-af8d-6c4008c08dfe</code></p>

<h2 id="paginated-collections">Paginated Collections</h2>

<p>Some of the API endpoints return paginated collections. Unless stated otherwise, all these endpoints accept the following optional GET parameters.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">page</code></td>
<td style="text-align: left">integer</td>
<td><code class="prettyprint">1</code></td>
<td>Which page of the results to return. If omitted, the first page with index 1 is returned.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">page_size</code></td>
<td style="text-align: left">integer</td>
<td>(varies)</td>
<td>Maximum number of returned objects per page. The default value and limitations depend on the API end-point.</td>
</tr>
</tbody></table>

<blockquote>
<p>An example of a JSON response with a paginated collection</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"num_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/examples?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 1"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 2"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 3"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 4"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 5"</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Paginated collections are objects with the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">count</code></td>
<td style="text-align: left">integer</td>
<td>The total number of objects matching the query. This may be much larger than the number of the actually returned objects in this response.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">per_page</code></td>
<td style="text-align: left">integer</td>
<td>Maximum number of objects per page. The actual number of returned objects on the last page may be fewer than this number. This equals to the <code class="prettyprint">page_size</code> GET parameter or its default value.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">num_pages</code></td>
<td style="text-align: left">integer</td>
<td>The total number of pages for the matching query results. In practice, this is same than <code class="prettyprint">count</code> / <code class="prettyprint">per_page</code>, rounded up.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_page</code></td>
<td style="text-align: left">integer</td>
<td>The index of the current page. The counting starts from one (1).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">next_page</code></td>
<td style="text-align: left">integer</td>
<td>Index of the next available page. This is <code class="prettyprint">null</code> if the current page is the last page.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">previous_page</code></td>
<td style="text-align: left">integer</td>
<td>Index of the previous available page. This is <code class="prettyprint">null</code> if the current page is the first page.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">next_page_url</code></td>
<td style="text-align: left">string</td>
<td>For convenience, ready-to-use URL for requesting the next page. This is <code class="prettyprint">null</code> if the current page is the last page.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">previous_page_url</code></td>
<td style="text-align: left">string</td>
<td>For convenience, ready-to-use URL for requesting the previous page. This is <code class="prettyprint">null</code> if the current page is the first page</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">results</code></td>
<td style="text-align: left">array of objects</td>
<td>The list containing the results for the current page. Each item is an object whose attributes depend on the returned resource type.</td>
</tr>
</tbody></table>

<h2 id="ordering-collections">Ordering Collections</h2>

<p>A <a title="Paginated collections" href="#paginated-collections">paginated collection</a> can usually be ordered by using an <code class="prettyprint">ordering</code> attribute.</p>

<p>The allowed sorting criteria depends on the endpoint, but the basic usage is always the same. You have an allowed set of sorting attributes, e.g. <code class="prettyprint">first_name</code>, <code class="prettyprint">last_name</code> and <code class="prettyprint">created_at</code>. You may then choose the primary sorting key and any secondary sorting keys with a comma-separated string, e.g. <code class="prettyprint">last_name,first_name</code>.</p>

<p>Any sorting order is ascending by default, but may be reverted to descending order by prefixing with a minus (<code class="prettyprint">-</code>) character, e.g. <code class="prettyprint">-created_at</code> or <code class="prettyprint">last_name,-created_at</code>.</p>

<h2 id="date-time-format">Date/time format</h2>

<p>Unless stated otherwise, all the date/times returned by API endpoints are ISO-8601 strings with format <code class="prettyprint">YYYY-MM-DDTHH:MM:SS.MSS</code>, for example: <code class="prettyprint">2015-06-12T12:34:56.000</code>. Also, any date/time URL parameters or attributes send as a request payload accept this same format.</p>

<p>Unless stated otherwise, the times are expressed in UTC timezone!</p>

          <h1 id="customer-api">Customer API</h1>

<h2 id="organizations">Organizations</h2>

<p>An organization represents any organization account on giosg system. An organization consists of a number of users with their own user accounts. A user always belongs to exactly one organization.</p>

<p>Please note that despite its name a &ldquo;organization&rdquo; in this context means any organization or group. It can even consists of only one user.</p>

<p>An organization object contains the following attributes. Note that the contact information is public.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier for this organization</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required?</strong></td>
<td>The name of the organization. Required, if your organization is using Network features, such as <a href="#partnership-api">partnerships</a> or <a href="#sharing-api">sharing</a>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact email address, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">phone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact phone number, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">street</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact street address, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">postal_code</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact address postal code, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">city</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact address city, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">country</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Country as a two-letter, lowercase ISO 3166-1 code, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Business ID of the organization, if any, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this organization account was created. <strong>Available only for your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When organization details were changed last time. <strong>Available only for your own organization.</strong></td>
</tr>
</tbody></table>

<h3 id="retrieve-organization-details">Retrieve organization details</h3>

<p>Get a single <a title="Organizations" href="#organizations">organization</a> object by its ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<h3 id="update-organization-details">Update organization details</h3>

<p>You may update some of the attributes a organization, if you have permissions to do so.</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains the changed attributes the <a title="Organizations" href="#organizations">organization</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

<h2 id="users">Users</h2>

<p>A user represents a giosg user account. A user resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization to which the user belongs to</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource to which the user belongs to</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">first_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>First name</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">last_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Last name</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_manager</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td>Whether the user is a manager. You cannot change this for yourself. You may change the value for the other members of your organization, if you are a manager.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">alias</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Display name, used when chatting. May be <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">gender</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Gender with three options: <code class="prettyprint">1</code>= male, <code class="prettyprint">2</code>= female, <code class="prettyprint">null</code>= unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">birthday</code></td>
<td style="text-align: left"><a title="Date format" href="#date-format">date</a></td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Date of birth in format <code class="prettyprint">YYYY-MM-DD</code>, e.g. <code class="prettyprint">1980-06-19</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">phone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact phone number</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">title</code></td>
<td style="text-align: left">title</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Title of the user</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the user resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the user resource was updated last time</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">avatar</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The avatar of the user as an object. It contains attributes <code class="prettyprint">id</code>and <code class="prettyprint">url</code>. This is <code class="prettyprint">null</code> if the user has no avatar.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_online</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether the user is currently in online status as an operator, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_signed_in</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether the user is currenlty logged in to the service, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_chat_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>The number of chats the user has currently, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_deleted</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether this user exists no more. If <code class="prettyprint">true</code>, the resource exists only for historical purposes and cannot be used in any other context!</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_memberships</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Team membershipss" href="#team-memberships">team membership</a> resources, listing the teams this user belongs to. Each object in the array has the attributes <code class="prettyprint">id</code>, <code class="prettyprint">team_id</code>, <code class="prettyprint">team</code>, <code class="prettyprint">is_admin</code></td>
</tr>
</tbody></table>

<h3 id="get-your-own-user">Get your own user</h3>

<aside class="success">
It is a common use case to first find out your own user or your organization&rsquo;s information, and then perform further actions on it.
</aside>

<p>There is a special API endpoint that returns the <a title="Users" href="#users">user</a> resource depending on who is <a title="Authentication" href="#authentication">authenticated</a>.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/users/me</code></p>

<p>To find out your organization&rsquo;s ID, just use the <code class="prettyprint">organization_id</code> attribute of the returned resource. Alternatively you can use the nested <a title="Organizations" href="#organizations">organization</a> resource for more details).</p>

<p>This API endpoint returns a 401 response if you are not being currently authenticated. It returns a 403 response if your authentication token is not directly related to one specific user.</p>

<h3 id="get-a-collection-of-organization-members">Get a collection of organization members</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of users who belong to a given organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">last_name</code>, <code class="prettyprint">first_name</code>, <code class="prettyprint">email</code>, <code class="prettyprint">alias</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, include deleted users to results. If <code class="prettyprint">false</code> (default), excludes any deleted users.</td>
</tr>
<tr>
<td><code class="prettyprint">is_manager</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only include managers. If <code class="prettyprint">false</code>, exclude all managers.</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="retrieve-details-of-an-organization-member">Retrieve details of an organization member</h3>

<p>Get a single <a title="Users" href="#users">user</a> object by its ID (<code class="prettyprint">&lt;user_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, does not return 404 for deleted resources.</td>
</tr>
</tbody></table>

<p>If you try to get a user that has been deleted, the endpoint results in 404 response by default. You may access the removed users of your organization for historical purposes by adding <code class="prettyprint">include_deleted=true</code> to the GET parameters.</p>

<p>This endpoint returns a 403 response if you do not have permissions for this organization. It returns a 404 response if the user does not exists <strong>or</strong> they doesn&rsquo;t belong to the organization.</p>

<h3 id="update-details-of-an-organization-member">Update details of an organization member</h3>

<p>You may update some of the attributes of a user (<code class="prettyprint">&lt;user_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains all the changed attributes of the <a title="Users" href="#users">user</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

<aside class="warning">
You are allowed to update your own details. You may only change other users&rsquo; details if you have management rights for the organization. Otherwise this endpoint will result in a 403 response.
</aside>

          <h1 id="teams-api">Teams API</h1>

<h2 id="teams">Teams</h2>

<p>A team object contains the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The unique identifier of this team</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the organization who owns this team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who owns this team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td><strong>required</strong></td>
<td>Name of the team. Must be a non-empty string.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">display_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Display name of the team. It may equal to the <code class="prettyprint">name</code> attribute, unless this team is <a title="Outgoing team shares" href="#outgoing-team-shares">shared</a> to your organization with a custom <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When the team resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When the team resource was updated last time</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">member_count</code></td>
<td style="text-align: left">integer</td>
<td>read-only</td>
<td>Number of <a title="Team membershipss" href="#team-memberships">members</a> in this team, including both admins and non-admins. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">admin_count</code></td>
<td style="text-align: left">integer</td>
<td>read-only</td>
<td>Number of <a title="Team membershipss" href="#team-memberships">admins</a> in this team. <strong>Available only to your own organization.</strong></td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-teams">Get a collection of teams</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Teams" href="#teams">team</a> resources of an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). By default, this also includes any [teams shared to your company][incoming team shares]!</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">name</code>, <code class="prettyprint">organization_id</code></td>
</tr>
<tr>
<td><code class="prettyprint">is_shared</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only teams that are shared to the organization. If <code class="prettyprint">false</code>, return only the organization&rsquo;s own teams.</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<p>Teams are readable by anyone in the same organization. However, they can be created, updated or deleted only by organization managers.</p>

<h3 id="retrieve-team-details">Retrieve team details</h3>

<p>Get a single team object (<code class="prettyprint">&lt;team_id&gt;</code>) of an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). This may be a [team shared to the organization][incoming team shares].</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h3 id="creating-a-team">Creating a team</h3>

<p>Create a team for an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams</code></p>

<h3 id="update-a-team">Update a team</h3>

<p>You may update the editable attributes of a team (<code class="prettyprint">&lt;team_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). You can make either a <code class="prettyprint">PATCH</code> request (update a subset of attributes) or <code class="prettyprint">POST</code> request (update all the attributes).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h3 id="delete-a-team">Delete a team</h3>

<aside class="warning">
Deleting a team will immediately clear all the memberships from the team. It will also unshare it from your partners! You cannot undo this action, but you can re-create and re-share the team and its memberships again.
</aside>

<p>You may delete one of your own teams by making a <code class="prettyprint">DELETE</code> request.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h2 id="team-memberships">Team memberships</h2>

<p>A <strong>team membership</strong> represents a user belonging to a specific team. Team memberships are only visible for teams of your own organization. A team membership resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the team to which this member belongs.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Teams" href="#teams">team</a> to which this member belongs, with attributes <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">display_name</code>, and <code class="prettyprint">organization_id</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the member user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The member <a title="Users" href="#users">user</a> resource. Has all other attributes than <code class="prettyprint">organization</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_admin</code></td>
<td style="text-align: left">boolean</td>
<td><strong>required</strong></td>
<td>Whether or not the member is an admin of the team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When the membership resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When the membership resource was updated last time</td>
</tr>
</tbody></table>

<p>Team memberships are readable by any member of the same organization. However, they can be created, updated or deleted only by either organization managers or by team admins. Otherwise, the endpoints will return a <code class="prettyprint">403 Forbidden</code> response.</p>

<h3 id="get-a-collection-of-team-members">Get a collection of team members</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Team membershipss" href="#team-memberships">team membership</a> resources for a specific <a title="Teams" href="#teams">team</a>.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_admin</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only admin memberships. If <code class="prettyprint">false</code>, return only non-admin memberships.</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="add-a-member-to-a-team">Add a member to a team</h3>

<p>You may add a user of your own organization to one of your teams by creating a team membership object.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<p>This returns a <code class="prettyprint">201 Created</code> response if the user with the given ID was successfully added to the team. If the user was already in the team, this updates the <code class="prettyprint">is_admin</code> attribute and returns <code class="prettyprint">200 OK</code> response with the existing membership resource.</p>

<h3 id="update-a-team-membership">Update a team membership</h3>

<p>You may update a team membership, i.e. change the admin status of a member either by attempting to create a new membership with <code class="prettyprint">POST</code> or updating with <code class="prettyprint">PUT</code>.</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<p>This returns a <code class="prettyprint">201 Created</code> response if the user did not belong to team previously but was now added. If the user was already in the team, this updates the attributes and returns <code class="prettyprint">200 OK</code> response with the existing membership resource.</p>

<p>You may also update a membership with a <code class="prettyprint">PATCH</code> request, but this will return <code class="prettyprint">404 Not Found</code> in case the membership did not exist.</p>

<h3 id="remove-a-member-from-a-team">Remove a member from a team</h3>

<p>You may remove a user from a team by deleting his/her membership.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<h3 id="retrieve-team-membership-details">Retrieve team membership details</h3>

<p>You may get the a user membership resource in a team:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

          <h1 id="rooms-api">Rooms API</h1>

<h2 id="rooms-and-domains">Rooms and domains</h2>

<p>The room resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The unique identifier of this room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">token</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>A signed Giosg token, used as a public identifier of this room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the organization who owns this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who owns this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">domain</code></td>
<td style="text-align: left">string</td>
<td><strong>optional</strong></td>
<td>A domain hostname if this room is a <strong>domain room</strong>, otherwise <code class="prettyprint">null</code> if this is a custom room. <strong>Cannot be changed after creation.</strong> You cannot have multiple domain rooms with the same <code class="prettyprint">domain</code> attribute!</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td><strong>required</strong></td>
<td>Name of the room, set by the owner. Must be a non-empty string.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">display_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Display name of the room. It may equal to the <code class="prettyprint">name</code> attribute, unless this room is <a title="Outgoing room shares" href="#outgoing-room-shares">shared</a> to your organization with a custom <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_shared</code></td>
<td style="text-align: left">boolean</td>
<td>read-only</td>
<td><code class="prettyprint">true</code> if the room is shared to your organization, <code class="prettyprint">false</code> if your organization owns the room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">allowed_domains</code></td>
<td style="text-align: left">array of objects</td>
<td>read-only</td>
<td>List of domain rooms on which this room may be used. Each object in the array contains <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">display_name</code> and <code class="prettyprint">domain</code> attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">language_code</code></td>
<td style="text-align: left">string</td>
<td><strong>optional</strong></td>
<td>Language of this room in ISO 639-1 code, or <code class="prettyprint">null</code> if undefined.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When this room was created. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>read-only</td>
<td>When this room was updated last time. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>string</td>
<td>ID of the user who last updated this room, or <code class="prettyprint">null</code> if unknown. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_by_user</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>Details of the user who last updated this room, or <code class="prettyprint">null</code> if unknown. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_deleted</code></td>
<td style="text-align: left">boolean</td>
<td>read-only</td>
<td>Whether this room exists no more. The resource exists only for historical purposes and cannot be used in any other context.</td>
</tr>
</tbody></table>

<p>Domain rooms are like any other rooms except that they are linked to exactly one domain (website). You need a domain room in order to use a Giosg services on your website.</p>

<h3 id="retrieve-room-details">Retrieve room details</h3>

<p>Get a single room object that your organization has access to, by its ID. This may be a shared room.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, does not return 404 for deleted resources.</td>
</tr>
</tbody></table>

<p>If you try to get a room that has been deleted, the endpoint results in 404 response by default. You may access the removed rooms of your organization for historical purposes by adding <code class="prettyprint">include_deleted=true</code> to the GET parameters.</p>

<h3 id="get-a-collection-of-rooms">Get a collection of rooms</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Rooms and domains" href="#rooms-and-domains">room</a> resources you have access to, including any shared rooms:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/rooms</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">name</code>, <code class="prettyprint">domain</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td><code class="prettyprint">false</code></td>
<td>If <code class="prettyprint">true</code>, include deleted resources to results. If <code class="prettyprint">false</code> (default), excludes any deleted resources.</td>
</tr>
<tr>
<td><code class="prettyprint">is_shared</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only rooms shared to your organization. If <code class="prettyprint">false</code>, return only your own organization&rsquo;s rooms.</td>
</tr>
<tr>
<td><code class="prettyprint">organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Return only rooms owned by this organization ID</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="creating-a-room">Creating a room</h3>

<p>Create a new custom room or a domain room by making a <code class="prettyprint">POST</code> request, providing the <a title="Rooms and domains" href="#rooms-and-domains">room object</a> as a payload. By providing the <code class="prettyprint">domain</code> attribute with non-null value will create a new domain room.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/rooms</code></p>

<h3 id="update-a-room">Update a room</h3>

<p>You may update the editable attributes of your own room by making either a <code class="prettyprint">PATCH</code> (update a subset of attributes) or <code class="prettyprint">POST</code> request (update all the attributes).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<h3 id="delete-a-room">Delete a room</h3>

<aside class="warning">
Deleting a room will immediately unshare it from your partners! Even though your statistics for this room are preserved, you cannot gather any more data for this room. You cannot undo this action, but you need to re-create and re-share the room again.
</aside>

<p>You may delete one of your own rooms by making a <code class="prettyprint">DELETE</code> request.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

          <h1 id="chat-api">Chat API</h1>

<h2 id="get-a-collection-of-chats">Get a collection of chats</h2>

<p>You can get a list of your organization&rsquo;s chats by making a GET request.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/chats</code></p>

<p>By default, the API returns all the available chats paginated, sorted by ascending ID order. You may want to filter the chats or change the order or pagination parameters by providing GET parameters in the URL. Remember to URL-encode any parameter values.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">ordering</code></td>
<td style="text-align: left"><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td>Order results by either <code class="prettyprint">start_time</code> or <code class="prettyprint">end_time</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">page</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">page_size</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">25</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 100</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">since_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"></td>
<td>Only return chats after the chat with this ID (exclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left"></td>
<td>Only return chats started after this moment (inclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">end_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left"></td>
<td>Only return chats ended before this moment (exclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">has_sales</code></td>
<td style="text-align: left">true/false</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>/<code class="prettyprint">false</code>, only return chats with/without sales</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_real_conversation</code></td>
<td style="text-align: left">true/false</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>/<code class="prettyprint">false</code>, only return real/non-real chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"></td>
<td>Only chats on the <a title="Rooms and domains" href="#rooms-and-domains">room</a> with this ID.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tag</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only chats that have this tag added to them by an operator.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">min_message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left"></td>
<td>Only chats with at least this number of messages.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">only_ended</code></td>
<td style="text-align: left">true/none</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>, only include chats that have been ended</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="nt">"num_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/7f9e9580-095b-42c7-838c-c04e667b26f7/chats?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58f5055c-56e0-11e5-9354-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uibdbtmk5etolmjaduaafnqpl2ujzkyr4slkq3cabdai37qm"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:31:36.042"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T12:38:36.424"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T12:38:36.431"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_private"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_real_conversation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_autosuggested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9926bdfa-56e0-11e5-b98c-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"api_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milan Indrajit"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer_number"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"operator_message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"visitor_message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.customerpage.com/settings"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_url_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settings page"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"autosuggest_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.customerpage.com/"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"autosuggest_url_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frontpage of our site"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-15T13:43:28.572"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How may I help you?"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-15T13:43:23.655"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"429569b04f31f1f507236ea7359b50cf"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Could you tell me about whether this product is in stock?"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milan Indrajit"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"shopping_carts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca0a324f-56e0-11e5-8d07-6c4008c08dfe"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"opened_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T08:23:57.331"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83.00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"monthly_total_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"360.00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"locked_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T08:24:57.588"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db66a978-56e0-11e5-878d-6c4008c08dfe"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apple iPad Air 2"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work and play faster, thinner, and lighter with the iPad Air 2 from Apple. Featuring Apple's 64-bit A8X chip and M8 coprocessor, the Air 2 delivers 40% faster CPU performance and 2.5 times the graphics performance when compared to its predecessor."</span><span class="p">,</span><span class="w">
              </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chat"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"product_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"499.90"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nt">"monthly_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nt">"monthly_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nt">"stock_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
              </span><span class="nt">"added_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T08:23:57.341"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API end-point returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of chat objects, having the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>Unique identifier for this chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">token</code></td>
<td style="text-align: left">string</td>
<td>Encoded Giosg token for the chat itself</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the chat conversation started</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">end_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the chat conversation ended (or <code class="prettyprint">null</code> if not yet ended)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the chat conversation was last time updated</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_private</code></td>
<td style="text-align: left">boolean</td>
<td>Whether or not the chat is marked as private for its operators</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_real_conversation</code></td>
<td style="text-align: left">boolean</td>
<td>Whether or not the chat is an actual conversation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_autosuggested</code></td>
<td style="text-align: left">boolean</td>
<td>Whether or not the chat started with an autosuggestion</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>ID of the <a title="Rooms and domains" href="#rooms-and-domains">room</a> in which the chat occurred</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">api_data</code></td>
<td style="text-align: left">array of objects</td>
<td>A list of any data that has been submitted for the visitor with APIs. Each object has the attributes <code class="prettyprint">name</code> and <code class="prettyprint">value</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">operator_message_count</code></td>
<td style="text-align: left">integer</td>
<td>How many messages there were by operator in this chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">visitor_message_count</code></td>
<td style="text-align: left">integer</td>
<td>How many messages there were by visitor in this chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message_count</code></td>
<td style="text-align: left">integer</td>
<td>How many messages there were in total in this chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">start_url</code></td>
<td style="text-align: left">string</td>
<td>Full URL of the page that the visitor was on when they sent their first message</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">start_url_title</code></td>
<td style="text-align: left">string</td>
<td>Title of the page that the visitor was on when they sent their first message</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">autosuggest_url</code></td>
<td style="text-align: left">string</td>
<td>Full URL of the page that the visitor was on when they received an autosuggest</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">autosuggest_url_title</code></td>
<td style="text-align: left">string</td>
<td>Title of the page that the visitor was on when they received an autosuggest</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">logs</code></td>
<td style="text-align: left">array of objects</td>
<td>All the chat messages in this chat, see below.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tags</code></td>
<td style="text-align: left">array of objects</td>
<td>All the tags added by operators to the chat. Each tag object has the attribute <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">shopping_carts</code></td>
<td style="text-align: left">array of objects</td>
<td>All the shopping carts of the visitor, related to this chat, see below.</td>
</tr>
</tbody></table>

<p>Every nested <strong>chat log</strong> object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the message was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_type</code></td>
<td style="text-align: left">integer</td>
<td>Whether the sender is operator (<code class="prettyprint">1</code>) or visitor (<code class="prettyprint">2</code>)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a>/string</td>
<td>Identifier for the sender. If the sender is an operator, then this is the user&rsquo;s ID. Otherwise this is an unique string for the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">type</code></td>
<td style="text-align: left">integer</td>
<td>Whether the message is an actual message (<code class="prettyprint">1</code>) or autosuggest (<code class="prettyprint">2</code>)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td>Content text of the message</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">display_name</code></td>
<td style="text-align: left">string</td>
<td>A display name for the sender</td>
</tr>
</tbody></table>

<p>Every nested <strong>shopping cart</strong> object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>Unique identifier for the shopping cart</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">opened_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the first item was added to the shopping cart</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_price</code></td>
<td style="text-align: left">string</td>
<td>The total sum of the shopping cart, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">monthly_total_price</code></td>
<td style="text-align: left">string</td>
<td>The total monthly subscription sum of the shopping cart, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">currency</code></td>
<td style="text-align: left">string</td>
<td>The currency in which the shopping cart value is given, e.g. <code class="prettyprint">EUR</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">locked_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the cart was purchased, i.e. &ldquo;locked&rdquo;. It is <code class="prettyprint">null</code> if the visitor has not purchased the shopping cart (yet)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">products</code></td>
<td style="text-align: left">array of objects</td>
<td>List of products in the shopping cart, see below.</td>
</tr>
</tbody></table>

<p>Every nested <strong>shopping cart product</strong> object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>Unique identifier for this item</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td>Name of the product</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">description</code></td>
<td style="text-align: left">string</td>
<td>Description of the product</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">category</code></td>
<td style="text-align: left">string</td>
<td>Name of the category to which the product belongs</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">product_number</code></td>
<td style="text-align: left">string</td>
<td>The product number or ID in the shop</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">price</code></td>
<td style="text-align: left">string</td>
<td>The price of a (single) product as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">quantity</code></td>
<td style="text-align: left">integer</td>
<td>How many pieces of this product there are in the shopping cart</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">monthly_price</code></td>
<td style="text-align: left">string</td>
<td>The monthly subscription price of a (single) product as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">monthly_quantity</code></td>
<td style="text-align: left">integer</td>
<td>How many pieces of a monthly subscriptions there are in the shopping cart</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">stock_balance</code></td>
<td style="text-align: left">integer</td>
<td>How many available pieces of product there are in stock</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">added_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the product was added to the shopping cart</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">deleted_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>When the product was removed from the shopping cart. If <code class="prettyprint">null</code>, then the products actually exists in the shopping cart. Otherwise, it has actually been removed and should not be considered to be in the cart.</td>
</tr>
</tbody></table>

          <h1 id="partnership-api">Partnership API</h1>

<h2 id="outgoing-partnership-invitations">Outgoing partnership invitations</h2>

<p>You may build your giosg NETWORK by inviting them. This is done with invitation objects. When sending and managing invitations from your organization account to your partners, we use <strong>outgoing invitations</strong>. An outgoing invitation object has the following attributes:</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier of this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">status</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>Status of the invitation, with the following possible values: <code class="prettyprint">0</code>= Pending, <code class="prettyprint">1</code>= Accepted by the received, <code class="prettyprint">2</code>= Rejected by the received</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>A valid email address to which the invitation will be sent. Must be set on creation and cannot be changed later.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Message to be sent with the invitation to your partner. May only be set on creation.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_display_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>A display name that will be set to the new partner when they accept the invitation and the partnership is created. The display name is visible to your organization members. May be <code class="prettyprint">null</code>, in which case the partner will be shown with their original name.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_visibility</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>This must be either <code class="prettyprint">organization</code> (the partner will become visible to all your organization members) or <code class="prettyprint">management</code> (visible only to your organization managers)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>You may <strong>share rooms</strong> to your partner when they accept your invitation. This should be an array of objects similar to <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> objects. On creation, the objects may contain attributes <code class="prettyprint">room_id</code> and <code class="prettyprint">share_name</code>. In responses these objects contain the attributes <code class="prettyprint">room_id</code>, <code class="prettyprint">room</code>, and <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>You may <strong>share teams</strong> to your partner when they accept your invitation. This should be an array of objects similar to <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> objects. On creation, the objects may contain attributes <code class="prettyprint">team_id</code> and <code class="prettyprint">share_name</code>. In responses these objects contain the attributes <code class="prettyprint">team_id</code>, <code class="prettyprint">team</code>, and <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who sent this invitation, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> resource who sent this invitation, with all other attributes except <code class="prettyprint">organization</code> and <code class="prettyprint">organization_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was accepted or rejected, <code class="prettyprint">null</code> if still pending</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partnership_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the <a title="Partnerships" href="#partnerships">partnership</a> of the partner who accepted this invitation, or <code class="prettyprint">null</code> if not accepted</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_new_partnership</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>This is <code class="prettyprint">true</code> if the invitation was accepted by a new partner, <code class="prettyprint">false</code> if it was accepted by an existing partner, or <code class="prettyprint">null</code> if not yet accepted.</td>
</tr>
</tbody></table>

<p>If your invitation is accepted by an existing partner, then any shared teams or rooms are added to that partner. No existing shares are removed in this case.</p>

<h3 id="send-an-invitation">Send an invitation</h3>

<p>You may send an invitation to your partner&rsquo;s email address by creating a new <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> object.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/outgoing_invitations</code></p>

<h3 id="cancel-an-outgoing-invitation">Cancel an outgoing invitation</h3>

<p>You may cancel a partnership invitation before it is accepted or rejected, by a given ID.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/outgoing_invitations/&lt;invitation_id&gt;</code></p>

<p>The endpoint returns a 404 status code if the invitation is not found or if you are not authenticated as the sender of this invitation or if the invitation has already been cancelled.</p>

<p>The endpoint returns a 403 status code if the invitation has already been accepted or rejected.</p>

<h3 id="retrieve-outgoing-invitation-details">Retrieve outgoing invitation details</h3>

<p>Get a single <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> object sent by your organization, by a given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/outgoing_invitations/&lt;invitation_id&gt;</code></p>

<h3 id="get-a-collection-of-outgoing-invitations">Get a collection of outgoing invitations</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all sent <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> objects.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/outgoing_invitations</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">status</code>, <code class="prettyprint">email</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">resolved_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>integer</td>
<td>(none)</td>
<td>Filter the results by the <code class="prettyprint">status</code> attribute</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h2 id="incoming-partnership-invitations">Incoming partnership invitations</h2>

<p>When you are a receiving party of a partnership invitation then you handle the invitation objects as <strong>incoming partnership invitations</strong>. An incoming invitation has the following attributes:</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">key</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Unique key for this invitation. You need to use this to identify <em>incoming</em> invitations.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier of this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">status</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>Status of the invitation, with the following possible values: <code class="prettyprint">0</code>= Pending, <code class="prettyprint">1</code>= Accepted by the received, <code class="prettyprint">2</code>= Rejected by the received</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>The email address to which this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Message to be sent with the invitation to your partner.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The rooms that will be shared when the invitation is accepted. An array where each item has the following attributes of an <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> objects: <code class="prettyprint">room_id</code> and <code class="prettyprint">room</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The teams that will be shared when the invitation is accepted. An array where each item has the following attributes of an <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> object: <code class="prettyprint">team_id</code> and <code class="prettyprint">team</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who sent this invitation, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who sent this invitation, with all other attributes except <code class="prettyprint">organization</code> and <code class="prettyprint">organization_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was accepted or rejected, <code class="prettyprint">null</code> if still pending</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
</tbody></table>

<h3 id="retrieve-incoming-invitation-details">Retrieve incoming invitation details</h3>

<p>Retrieve a <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource by its <strong>invitation key</strong>. Incoming invitations are identified by their automatically generated, random key strings, instead of integer IDs.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;</code></p>

<h3 id="get-a-collection-of-incoming-invitations">Get a collection of incoming invitations</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all received <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> objects. This endpoint returns invitations accepted or rejected by your organization. It also returns those invitations that are sent to one of your organization&rsquo;s email address. <strong>NOTE</strong> that the organization who sends the invitation does not know if this email address actually exists in giosg system.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/incoming_invitations</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">status</code>, <code class="prettyprint">email</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">resolved_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>integer</td>
<td>(none)</td>
<td>Filter the results by the <code class="prettyprint">status</code> attribute</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="accept-an-incoming-invitation">Accept an incoming invitation</h3>

<p>You need to accept an invitation to become partners with the sender. In order to accept the invitation, you need the invitation key.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;/accept</code></p>

<p>As soon as you accept the invitation, the partnership will be created. Also, any shared rooms and teams will become available to your organization.</p>

<p>You should send an object as a payload with the following attributes, matching the attributes on a <a title="Partnerships" href="#partnerships">partnership</a> resource. They may be omitted, see below.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">display_name</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>A display name that will be set to the newly created partner. The display name is visible to your organization members. May be <code class="prettyprint">null</code>, in which case the partner will be shown with their original name.</td>
</tr>
<tr>
<td><code class="prettyprint">visibility</code></td>
<td>string</td>
<td><strong>required</strong></td>
<td>This must be either <code class="prettyprint">organization</code> (the partner will become visible to all your organization members) or <code class="prettyprint">management</code> (visible only to your organization managers)</td>
</tr>
</tbody></table>

<p>It is possible to accept an invitation from an existing partner. In this case, no new partnership is created. The <code class="prettyprint">display_name</code> and <code class="prettyprint">visibility</code> will overwrite the corresponding attributes of the existing <a title="Partnerships" href="#partnerships">partnership</a> resource, <strong>unless they are omitted</strong>, in which case the old values are preserved.</p>

<p>If you are accepting the invitation with <a title="Incoming room shares" href="#incoming-room-shares">shared rooms</a> or <a title="Incoming team shares" href="#incoming-team-shares">teams</a> from an existing partner, then the rooms and teams will become available to you.</p>

<p>After accepting an invitation, its status will become <code class="prettyprint">1</code>.</p>

<p>The request will result in 404 response if the invitation was not found, has been cancelled, or has already been accepted/rejected by some other organization. The request will result in 403 response if the invitation has already been accepted or rejected by your organization, or if you are not allowed to accept/reject the invitation, e.g. you are the original creator of this invitation.</p>

<p>A successful response will result in the updated <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource.</p>

<h3 id="reject-an-invitation">Reject an invitation</h3>

<p>You may reject an invitation by its invitation key.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;/reject</code></p>

<p>No request payload is required. After rejecting an invitation, its status will become <code class="prettyprint">2</code>.</p>

<p>The request will result in 404 response if the invitation was not found, has been cancelled, or has already been accepted/rejected by some other organization. The request will result in 403 response if the invitation has already been accepted or rejected by your organization, or if you are not allowed to accept/reject the invitation, e.g. you are the original creator of this invitation.</p>

<p>A successful response will result in the updated <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource.</p>

<h2 id="partnerships">Partnerships</h2>

<p>A partnership object describes a connection between your organization and one of your partner organizations. Partnerships can only be created with <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">partnership invitation</a> resources.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the partner organization</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The partner <a title="Organizations" href="#organizations">organization</a> resource, with all of its available attributes</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of your organization, for convenience (matching the <code class="prettyprint">&lt;organization_id&gt;</code> in the URL)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">dislay_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Name that is shown to your organization members for this partner. May be <code class="prettyprint">null</code>, in which case the original name is shown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">visibility</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>If <code class="prettyprint">organization</code> then the partner is visible to all your organization members. If <code class="prettyprint">management</code>, it is visible only to your organization managers</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When you became partners</td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-partnerships">Get a collection of partnerships</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the known partnerships.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships</code></p>

<p>This end-point accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">partner_organization_name</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">display_name</code></td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>25</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 100</td>
</tr>
</tbody></table>

<h3 id="retrieve-partnership-details">Retrieve partnership details</h3>

<p>Retrieve a single <a title="Partnerships" href="#partnerships">partnership</a> resource for your organization (<code class="prettyprint">&lt;organization_id&gt;</code>) by the partner organization&rsquo;s ID (<code class="prettyprint">&lt;partner_organization_id&gt;</code>).</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<h3 id="remove-a-partnership">Remove a partnership</h3>

<aside class="warning">
<strong>WARNING!</strong>
This will immediately remove the organization from your partners and remove your partner&rsquo;s access to your shared resources. You cannot undo this action! You need to invite your partner again and re-share all your rooms/teams and re-set any permissions.
</aside>

<p>Being aware of this, you may remove another organization (<code class="prettyprint">&lt;partner_organization_id&gt;</code>) from your organization&rsquo;s (<code class="prettyprint">&lt;organization_id&gt;</code>) partners.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<h3 id="update-a-partnership">Update a partnership</h3>

<p>You may update the editable attributes of a partnership for your organization (<code class="prettyprint">&lt;organization_id&gt;</code>) by the given partner organization&rsquo;s ID (<code class="prettyprint">&lt;partner_organization_id&gt;</code>).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains the changed attributes of the <a title="Partnerships" href="#partnerships">partnership</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

          <h1 id="sharing-api">Sharing API</h1>

<p>Once you have become partners, you may share resources to your partner organization. Shared resources are represented by <strong>share resources</strong>. Currently there are two types of shares:</p>

<ul>
<li><strong>Room shares</strong>

<ul>
<li><a title="Outgoing room shares" href="#outgoing-room-shares">Outgoing room share</a></li>
<li><a title="Incoming room shares" href="#incoming-room-shares">Incoming room share</a></li>
</ul></li>
<li><strong>Team shares</strong>

<ul>
<li><a title="Outgoing team shares" href="#outgoing-team-shares">Outgoing team share</a></li>
<li><a title="Incoming team shares" href="#incoming-team-shares">Incoming team share</a></li>
</ul></li>
</ul>

<p>Additionally, each type of share are represented as either outgoing or incoming share, depending on whether you are the sharing or the receiving party.</p>

<h2 id="outgoing-shares">Outgoing shares</h2>

<p>Each <strong>outgoing share</strong> resource has the following attributes, regardless of the type of resource that is being shared.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the partner organization to whom the resource is shared. <strong>Must be an existing partner. Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object to whom the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">share_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Name that is shown to the receiver as a display name for this resource. If <code class="prettyprint">null</code>, the original name is displayed. This may be updated later.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object who shared the resource, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> resource who shared the resource, with all of the available attributes</td>
</tr>
</tbody></table>

<p>By default, resources are shared with their original names. However, these are usually for your organization&rsquo;s internal use, and you may want to display the resource with more descriptive name to your partners. In this case, you may want to define the <code class="prettyprint">share_name</code> attribute.</p>

<h3 id="outgoing-room-shares">Outgoing room shares</h3>

<p>Your organization may share rooms to their partners by creating outgoing room share resources that extend <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resources. Additionally, an outgoing room share object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the room to be shared. <strong>Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Rooms and domains" href="#rooms-and-domains">room</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="outgoing-team-shares">Outgoing team shares</h3>

<p>Your organization may share teams to their partners by creating outgoing team share resources that extend <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resources. Additionally, an outgoing team share object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the team to be shared. <strong>Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Teams" href="#teams">team</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="share-a-resource">Share a resource</h3>

<p>You may share a resource to one of your partners by making a <code class="prettyprint">POST</code> request.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. You may only share resources that you own or are being shared to your organization. You need to provide the required attributes of an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> as well as desired optional attributes as a payload.</p>

<p>The API returns an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> as a response.</p>

<h3 id="retrieve-outgoing-share-details">Retrieve outgoing share details</h3>

<p>Returns an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> resource by the given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. Results in 404 response if you have no access to the share.</p>

<h3 id="unshare-a-resource">Unshare a resource</h3>

<p>You may decide not to share a resource any more to the specific partner. In this case, you may delete the <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resource.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<h3 id="get-a-collection-of-outgoing-shares">Get a collection of outgoing shares</h3>

<p>You may get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> resources that your organization has created.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options: <code class="prettyprint">created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">receiver_organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Filter the results by a receiving partner organization ID</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>25</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="update-an-outgoing-share">Update an outgoing share</h3>

<p>Once a resource share is created, you cannot change its resource, partnership or other relations. If you shared a wrong resource or to a wrong partner, you need to delete the share and create a new one. You may still update a resource share resource, specifically its <code class="prettyprint">share_name</code>, by making a <code class="prettyprint">PUT</code> or <code class="prettyprint">PATCH</code> request:</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>.</p>

<h2 id="incoming-shares">Incoming shares</h2>

<p>Each <strong>incoming share</strong> resource has the following attributes, regardless of the type of resource that is being shared.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object who shared the resource, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization to whom the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object to whon the resource was shared</td>
</tr>
</tbody></table>

<h3 id="incoming-room-shares">Incoming room shares</h3>

<p>If you are a receiving party of a shared room, then you use the room share objects as <strong>incoming room shares</strong> that extend the <a title="Incoming shares" href="#incoming-shares">incoming share</a> resource. Additionally, an incoming room share has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the shared room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Rooms and domains" href="#rooms-and-domains">room</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="incoming-team-shares">Incoming team shares</h3>

<p>If you are a receiving party of a shared team, then you use the team share objects as <strong>incoming team shares</strong> that extend the <a title="Incoming shares" href="#incoming-shares">incoming share</a> resource. Additionally, an incoming team share has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the shared team</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Teams" href="#teams">team</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-incoming-shares">Get a collection of incoming shares</h3>

<p>You may get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> or <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> resources that are shared to your organization.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;receiver_organization_id&gt;/incoming_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">sharer_organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Filter the results by a receiving partner organization ID</td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>25</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 200</td>
</tr>
</tbody></table>

<h3 id="retrieve-incoming-share-details">Retrieve incoming share details</h3>

<p>Returns an <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> or <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> resource by the given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;receiver_organization_id&gt;/incoming_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>.</p>

          <h1 id="assets-api">Assets API</h1>

<h2 id="assets">Assets</h2>

<p>Assets are files that you can upload to giosg system and that are publicly available. They are useful to hosts resources for you custom customized giosg products or your website components!</p>

<p>Even though asset contents are publicly available, they can only be accessed with an URL. In other words, only your organization members are able to see the list of your organization assets. When the asset is used somewhere, e.g. on your custom chat dialog or your website, anyone is (and need to be) able to download its contents and see its public attributes.</p>

<p>An asset resource has the following attributes.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td><a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> string identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td><strong>required</strong></td>
<td>Short, human-readable name.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Human-readable description</td>
</tr>
<tr>
<td><code class="prettyprint">organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the owner organization</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code></td>
<td>object</td>
<td>read-only</td>
<td>The owner organization resource</td>
</tr>
<tr>
<td><code class="prettyprint">file_name</code></td>
<td>string</td>
<td>read-only</td>
<td>The original file name of the uploaded file</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>string</td>
<td>read-only</td>
<td>The full URL for original, uploaded file. <strong>Use this URL to link to your asset!</strong></td>
</tr>
<tr>
<td><code class="prettyprint">size</code></td>
<td>integer</td>
<td>read-only</td>
<td>Size of the uploaded file in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">content_type</code></td>
<td>string</td>
<td>read-only</td>
<td><a title="Internet Media Type" href="https://en.wikipedia.org/wiki/Internet_media_type">Content type</a> of the uploaded file, e.g. <code class="prettyprint">image/jpeg</code> (or <code class="prettyprint">null</code> if unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">kind</code></td>
<td>string</td>
<td>read-only</td>
<td>What kind of file the asset is: <code class="prettyprint">&quot;image&quot;</code>, <code class="prettyprint">&quot;css&quot;</code>, <code class="prettyprint">&quot;javascript&quot;</code>, <code class="prettyprint">&quot;font&quot;</code> or <code class="prettyprint">null</code> (unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">charset</code></td>
<td>string</td>
<td>read-only</td>
<td>Character encoding for a text file, e.g. <code class="prettyprint">UTF-8</code> (or <code class="prettyprint">null</code> if binary or unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>date/time</td>
<td>read-only</td>
<td>When the asset was created</td>
</tr>
<tr>
<td><code class="prettyprint">created_by_user_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the person who created this asset</td>
</tr>
<tr>
<td><code class="prettyprint">created_by_user</code></td>
<td>object</td>
<td>read-only</td>
<td>The person resource who created this asset</td>
</tr>
<tr>
<td><code class="prettyprint">updated_at</code></td>
<td>date/time</td>
<td>read-only</td>
<td>When the asset name or description was last time updated</td>
</tr>
<tr>
<td><code class="prettyprint">updated_by_user_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the person who last time updated this asset</td>
</tr>
<tr>
<td><code class="prettyprint">updated_by_user</code></td>
<td>object</td>
<td>read-only</td>
<td>The person resource who last time updated this asset</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>integer</td>
<td>read-only</td>
<td>The width of an image in pixels. Available for images only. It is <code class="prettyprint">null</code> for other assets.</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>integer</td>
<td>read-only</td>
<td>The height of an image in pixels. Available for images only. It is <code class="prettyprint">null</code> for other assets.</td>
</tr>
</tbody></table>

<h3 id="upload-a-new-asset">Upload a new asset</h3>

<p>Upload a file creating a new asset for a organization.</p>

<p><code class="prettyprint">POST /api/v5/orgs/&lt;organization_id&gt;/assets</code></p>

<aside class="warning">
<strong>IMPORTANT!</strong> In contrast to the all other API endpoints, this only accepts <code>multipart/form-data</code> requests, because you need to upload a file with the request. The request payload takes the following attributes.
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">upload</code></td>
<td>file</td>
<td><strong>required</strong></td>
<td>The asset file to be uploaded. File name is required.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Name for the newly created asset. If omitted, defaults to the file name. Otherwise, it must be a non-empty string value.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Description for this asset.</td>
</tr>
</tbody></table>

<p>This endpoint returns an <a title="Assets" href="#assets">asset</a> resource. It results in a 400 response if the upload would exceed your organization&rsquo;s free asset storage space.</p>

<h3 id="list-assets">List assets</h3>

<p>Get a paginated collection of all the assets of your organization:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/assets</code></p>

<p>The endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, <code class="prettyprint">name</code>, <code class="prettyprint">kind</code>, <code class="prettyprint">content_type</code>, <code class="prettyprint">size</code>, <code class="prettyprint">file_name</code></td>
</tr>
<tr>
<td><code class="prettyprint">page</code></td>
<td>integer</td>
<td>1</td>
<td><a title="Paginated collections" href="#paginated-collections">Page</a> to get</td>
</tr>
<tr>
<td><code class="prettyprint">page_size</code></td>
<td>integer</td>
<td>50</td>
<td><a title="Paginated collections" href="#paginated-collections">Page size</a> for the pages, with max value of 100</td>
</tr>
</tbody></table>

<h3 id="retrieve-a-single-asset">Retrieve a single asset</h3>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="update-an-asset">Update an asset</h3>

<p>You may update the <code class="prettyprint">name</code> and/or <code class="prettyprint">description</code> attributes of an asset.</p>

<p><code class="prettyprint">PUT /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<p><code class="prettyprint">PATCH /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="delete-an-asset">Delete an asset</h3>

<p>You may delete your assets. Their size is freed for new asset uploads.</p>

<p><code class="prettyprint">DELETE /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="retrieve-organization-39-s-storage-information">Retrieve organization&rsquo;s storage information</h3>

<p>You may check your organization&rsquo;s current asset storage space usage:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/quota</code></p>

<p>This returns an object with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">free_space</code></td>
<td>integer</td>
<td>Total free space for new assets, in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">usage</code></td>
<td>integer</td>
<td>Sum of all your organization asset sizes, in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">limit</code></td>
<td>The maximun allowed sum of your organization asset sizes, in bytes</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="time-series-reporting-api">Time Series Reporting API</h1>

<h2 id="general-time-series-usage">General time series usage</h2>

<p>All the API endpoints described in this section require some GET parameters defining the time range and stats aggregation interval. You may also define define optional GET parameters to localize and filter the results. The optional GET parameters are described per API endpoint.</p>

<p>The following table describes the GET parameters accepted by all of the reporting stats API endpoints.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Only return statistics after this moment (inclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">end_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Only return statistics before this moment (exclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">timezone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">UTC</td>
<td>A <a title="List of timezones" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">timezone</a> in which params and results are expressed.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">utc_offset</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>An alternative to the <code class="prettyprint">timezone</code> parameter: the timezone expressed in static UTC offset, in hours.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">time_interval</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Get results by selected time interval. Allowed values are <code class="prettyprint">15min</code>, <code class="prettyprint">1h</code>, <code class="prettyprint">1d</code>.</td>
</tr>
</tbody></table>

<p>The chosen start and end date/time should be divisible by the chosen time interval. For example, if time interval is <code class="prettyprint">1d</code> then the time part of a start/end date should be exactly <code class="prettyprint">00:00:00</code>. For example: <code class="prettyprint">201502-10T00:00:00</code>. On the other hand, if time interval is <code class="prettyprint">1h</code>, then the hour part can be anything but the minutes and seconds must be <code class="prettyprint">00</code>. Also, if the time interval is <code class="prettyprint">15min</code>, then the minutes part must be either <code class="prettyprint">00</code>, <code class="prettyprint">15</code>, <code class="prettyprint">30</code> or <code class="prettyprint">45</code>.</p>

<p>Please note that end time is exclusive, that is, the time slot that starts exactly on that moment is <strong>not</strong> included in the final results. Therefore, in order to get daily stats for 2015-03-05 and 2015-03-06, you should define the start time as <code class="prettyprint">2015-03-05T00:00:00</code> and end time as <code class="prettyprint">2015-03-07T00:00:00</code> (the beginning of the next day).</p>

<p>The optional <code class="prettyprint">timezone</code> parameter may be provided as one of the <a title="List of timezones" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">tz database timezone names</a>. This timezone describes the &ldquo;local time&rdquo; on which the API operates. For example: <code class="prettyprint">timezone=Europe%2FHelsinki</code> would indicate timezone <code class="prettyprint">Europe/Helsinki</code>.</p>

<p>You may alternatively use <code class="prettyprint">utc_offset</code> parameter which, if provided, must start with either <code class="prettyprint">+</code> or <code class="prettyprint">-</code> and have two digit offset hour (zero-padded). This describes the offset from the UTC time, in full hours. If timezone or UTC offset is omitted, they default to the UTC time. An example parameter would be: <code class="prettyprint">utc_offset=+02</code></p>

<p>If a local time is defined, with either <code class="prettyprint">timezone</code> or <code class="prettyprint">utc_offset</code>, the given <code class="prettyprint">start_time</code> and <code class="prettyprint">end_time</code> are supposed to be expressed in this &ldquo;local time&rdquo;. Otherwise, we assume that times are in UTC.</p>

<p>Defining a local time is especially important if you are aggregating daily statistics, i.e. <code class="prettyprint">time_interval</code> is <code class="prettyprint">1d</code>. The timezone is used to determine when each day starts and ends.</p>

<p>Every time series endpoint returns a JSON object with an item <code class="prettyprint">results</code>, containing an array of aggregated timeslot objects. Each object has the attributes described by the following table. The items are in their time order. There will be a time slot for each time interval in the defined range, even if all the numbers would be zeros.</p>

<p>See the following sections for details.</p>

<h2 id="time-series-range-limitations">Time series range limitations</h2>

<p>The selected time interval defines the maximum time range between the start and end time. Also, the chosen time interval determines how far in the past the start time can be. These restrictions are described in the following table:</p>

<table><thead>
<tr>
<th>Time interval</th>
<th>Max. time range</th>
<th>Oldest possible start time</th>
</tr>
</thead><tbody>
<tr>
<td><strong>1d</strong></td>
<td>100 days</td>
<td>(No limit)</td>
</tr>
<tr>
<td><strong>1h</strong></td>
<td>7 days (168h)</td>
<td>Any of last 140 days</td>
</tr>
<tr>
<td><strong>15min</strong></td>
<td>3 days (72h)</td>
<td>Any of last 33 days</td>
</tr>
</tbody></table>

<p>If the time range is longer than the maximum allowed range, or starts too early, then the server responds with <code class="prettyprint">400 Bad Request</code> error response.</p>

<h2 id="visitor-statistics-time-series">Visitor statistics time series</h2>

<p>You can get the time-based aggregated visitor statistics by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/visitorstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the visitor stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T17:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">130</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone is defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Total number of unique visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">desktop_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique desktop computer visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">mobile_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique mobile phone visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tablet_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique tablet visitors on this timeslot</td>
</tr>
</tbody></table>

<h2 id="chat-statistics-time-series">Chat statistics time series</h2>

<p>You can get the time-based aggregated chat statistics by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the chat stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tag</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for chats that has been tagged with the given string. Can be given multiple times, when chat is included if it has any of the tags.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">min_message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">0</td>
<td>Only statistics for chats with at least this number of total messages, by either visitor or operator, excluding autosuggest messages.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_ended</code></td>
<td style="text-align: left">true/false/none</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>, then only include chats that have actually ended. If <code class="prettyprint">false</code>, only include chats that have not been ended yet. If omitted or empty string, then do not filter.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.05</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">163.084</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">92.863</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left">integer</td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, eg. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">real_chats</code></td>
<td style="text-align: left">integer</td>
<td>Total number of chats that are real conversations</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_chats</code></td>
<td style="text-align: left">integer</td>
<td>Total number of chats on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_autosuggest</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started from autosuggest of this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_autosuggests</code></td>
<td style="text-align: left">integer</td>
<td>Total number of sent autosuggests (may or may not have started a chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">missed_chats</code></td>
<td style="text-align: left">integer</td>
<td>Chats missed by operators</td>
</tr>
</tbody></table>

<aside class="warning">
The following wait time stats are available only for chat sessions started on 2015-03-02 and later! For earlier stats, they are null.
</aside>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">average_wait_time</code></td>
<td style="text-align: left">integer</td>
<td>Average waiting time in seconds, or null if not available</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">max_wait_time</code></td>
<td style="text-align: left">integer</td>
<td>Maximum waiting time in seconds, or null if not available</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_operator</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started by operator on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_visitor</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started by visitor on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">average_duration</code></td>
<td style="text-align: left">integer</td>
<td>Average duration of chats, in seconds</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">average_active_duration</code></td>
<td style="text-align: left">integer</td>
<td>Averate duration of chats excluding any idle time, in seconds</td>
</tr>
</tbody></table>

<h2 id="per-room-chat-statistics-time-series">Per-room chat statistics time series</h2>

<p>You can get the time-based aggregated chat statistics per-room by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/rooms/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the chat stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tag</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for chats that has been tagged with the given string. Can be given multiple times, when chat is included if it has any of the tags.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">min_message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">0</td>
<td>Only statistics for chats with at least this number of total messages, by either visitor or operator, excluding autosuggest messages.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_ended</code></td>
<td style="text-align: left">true/false/none</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>, then only include chats that have actually ended. If <code class="prettyprint">false</code>, only include chats that have not been ended yet. If omitted or empty string, then do not filter.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"num_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/rooms/timeseries?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_gid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysdboogj2zc6i34ciaafd33h2tjzkyr4stes3cabdai37qm"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_gid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ahpalbmjr5y6cel4deaaebdsmbm25lir4sbfg3cabdai37qm"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">120.04</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">120.556</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">90.920</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.05</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">163.084</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">92.863</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
This endpoint returns a paginated collection!
</aside>

<p>Unlike the other time series endpoints, this endpoint returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left">integer</td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, eg. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">rooms</code></td>
<td style="text-align: left">array of objects</td>
<td>Statistics for every room, with same attributes than the chat statistics time series, except the <code class="prettyprint">start_time</code>. Instead, it has the attribute <code class="prettyprint">room_gid</code> containing the Giosg-signed token identifying the room.</td>
</tr>
</tbody></table>

<h2 id="operator-statistics-time-series">Operator statistics time series</h2>

<p>You can get the time-based aggregated operator statistics by making a GET request.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/operatorstats/timeseries</code></p>

<aside class="warning">
<strong>Note</strong> that this API provides data only starting from 2015-05-12!
</aside>

<p>You may define these optional GET parameters to filter the operator stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T17:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">online_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators online</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">logged_in_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators logged in</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chatting_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators chatting</td>
</tr>
</tbody></table>

<h2 id="sales-statistics-time-series">Sales statistics time series</h2>

<p>You can get the aggregated shopping cart (giosg BASKET) statistics by making a GET request.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/salesstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the sales stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat). If not given, sales stats will be calculated from all company&rsquo;s rooms.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2300.35"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1800.20"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_monthly_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94.00"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"monthly_chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.50"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts"</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts_with_chat"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2345.80"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1740.99"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_monthly_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.00"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"monthly_chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts"</span><span class="p">:</span><span class="w"> </span><span class="mi">239</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts_with_chat"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#datetime-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if the timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_sales</code></td>
<td style="text-align: left">string</td>
<td>Total sales, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chat_sales</code></td>
<td style="text-align: left">string</td>
<td>Sales related to a chat conversation that has at least 3 messages, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_monthly_sales</code></td>
<td style="text-align: left">string</td>
<td>Total monthly billable sales, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">monthly_chat_sales</code></td>
<td style="text-align: left">string</td>
<td>Monthly billable sales related to a chat conversation that has at least 3 messages</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">purchased_carts</code></td>
<td style="text-align: left">string</td>
<td>Count of carts that have been locked/purchased.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">purchased_carts_with_chat</code></td>
<td style="text-align: left">string</td>
<td>Count of carts with conversation that have been locked/purchased</td>
</tr>
</tbody></table>

          <h1 id="real-time-api">Real-time API</h1>

<h2 id="room-real-time-statistics">Room real-time statistics</h2>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of real-time statistics for the rooms you have access to</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v4/reporting/realtime/rooms</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td>string</td>
<td></td>
<td>filter results to only these (comma delimited) rooms</td>
</tr>
<tr>
<td><code class="prettyprint">include_shared</code></td>
<td>boolean</td>
<td>false</td>
<td>include shared rooms to the results</td>
</tr>
<tr>
<td><code class="prettyprint">timezone</code></td>
<td>string</td>
<td>UTC</td>
<td>Name of the <a title="List of tz database time zones" href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones">timezone</a> to use for time based aggregation e.g. <code class="prettyprint">Europe/Helsinki</code></td>
</tr>
</tbody></table>

<p>A response contains following fields:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domain.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"free_capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"waiting_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td>string</td>
<td><a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> string identifier</td>
</tr>
<tr>
<td>room_name</td>
<td>string</td>
<td>Room name.</td>
</tr>
<tr>
<td>currently_open_chats</td>
<td>integer</td>
<td>Currently open chats.</td>
</tr>
<tr>
<td>free_capacity</td>
<td>integer</td>
<td>Free capacity across all online operator in the room.</td>
</tr>
<tr>
<td>waiting_chats</td>
<td>integer</td>
<td>Currently waiting chats.</td>
</tr>
<tr>
<td>average_wait_time</td>
<td>float</td>
<td>Average wait time of the currently waiting visitors.</td>
</tr>
<tr>
<td>max_wait_time</td>
<td>float</td>
<td>Maximum wait time of the currently waiting visitors.</td>
</tr>
<tr>
<td>real_chats</td>
<td>integer</td>
<td>Real chat conversations today.</td>
</tr>
<tr>
<td>missed_chats</td>
<td>integer</td>
<td>Chats missed by operators today.</td>
</tr>
<tr>
<td>current_visitors</td>
<td>integer</td>
<td>Currently active visitors on the webpage.</td>
</tr>
</tbody></table>

<h2 id="user-real-time-statistics">User real-time statistics</h2>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of real-time statistics for operators</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v4/reporting/realtime/users</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">user_id</code></td>
<td>integer</td>
<td></td>
<td>filter results to only these (comma delimited) users</td>
</tr>
</tbody></table>

<p>A response contains following fields:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name@domain.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_logged_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"free_capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domain.com"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>currently_open_chats</td>
<td>integer</td>
<td>Currently open chats.</td>
</tr>
<tr>
<td>free_capacity</td>
<td>integer</td>
<td>Free capacity.</td>
</tr>
<tr>
<td>rooms</td>
<td>array of objects</td>
<td></td>
</tr>
<tr>
<td>teams</td>
<td>array of objects</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="visitor-javascript-api">Visitor Javascript API</h1>

<h2 id="requirements-and-general-usage">Requirements and general usage</h2>
<pre class="highlight javascript"><code><span class="c1">// Asynchronous API call</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'submit'</span><span class="p">,</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s1">'John Doe'</span> <span class="p">});</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Normal API call</span>
<span class="kd">function</span> <span class="nx">success</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Success!'</span><span class="p">);</span>
<span class="p">};</span>
<span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error: '</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Wait for giosg client to fully load</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Following is equivalent of:</span>
    <span class="c1">// _giosg('visitor', 'submit', { username: 'John Doe' });</span>
    <span class="nx">giosg</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">visitor</span><span class="p">.</span><span class="nx">submit</span><span class="p">({</span> <span class="na">username</span><span class="p">:</span> <span class="s1">'John Doe'</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">success</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>To use giosg visitor javascript api you need to be using latest version of <a title="giosg script tag" href="http://docs.giosg.com/doku.php?id=public:technical-documentation:installation-instructions">giosg script tag</a> on the site.</p>

<p>The best practice is to include giosg script at the start of the HTML document. This is not necessary but is advised so that the <code class="prettyprint">_giosg</code> object is
available as soon as possible.</p>

<p>Javascript api can be used in two ways. Asynchronously with <code class="prettyprint">_giosg</code> object or calling api method&rsquo;s directly. <code class="prettyprint">_giosg</code> object is available right after
<a title="giosg script tag" href="http://docs.giosg.com/doku.php?id=public:technical-documentation:installation-instructions">giosg script tag</a> so you don&rsquo;t need to wait for giosg to be fully loaded before calling api.</p>

<p>Sometimes it is however useful to know when the api calls complete. For that reason you can also call giosg api methods directly and receive jQuery
promise as return value. When you want to call api methods directly it is important to wrap your code inside <code class="prettyprint">_giosg(function () { ... });</code> to make sure that
giosg client is fully loaded before the call is made.</p>

<p><strong>Following api calls are identical:</strong></p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;submit&#39;, &lt;visitor_data&gt;, &lt;signing_algorithm&gt;, &lt;replace_existing&gt;, &lt;room_information&gt;);</code></p>

<p>AND</p>

<p><code class="prettyprint">_giosg(function () { giosg.api.visitor.submit({ username: &#39;John Doe&#39; }).then(success, error); });</code></p>

<p>This documentation uses only asynchronous versions of API&rsquo;s as examples from this point on. To &ldquo;convert&rdquo; asynchronous call to normal api call
use following pattern:</p>

<p><code class="prettyprint">_giosg(&#39;module&#39;, &#39;method&#39;, arg1, arg2, ..)</code> translates to <code class="prettyprint">giosg.api.&lt;module&gt;.&lt;method&gt;(arg1, arg2, ..);</code></p>

<h2 id="visitor-data-api">Visitor data API</h2>

<p>You can attach key value pairs to visitor with giosg javascript api. This data is then available to operators in giosg console and also in reporting.
Data can also be signed so that you can trust that the submitted data originated from you and was not tampered by visitor.</p>

<h3 id="submit-visitor-data">Submit visitor data</h3>
<pre class="highlight javascript"><code><span class="c1">// Attach data to visitor</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'submit'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="s1">'John Doe'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
    <span class="na">has_car</span><span class="p">:</span><span class="kc">true</span>
<span class="p">},</span> <span class="s1">'plain'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'My room'</span> <span class="p">});</span>
</code></pre>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;submit&#39;, &lt;visitor_data&gt;, &lt;signing_algorithm&gt;, &lt;replace_existing&gt;, &lt;room_information&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">visitor_data</code></td>
<td>Object</td>
<td><strong>required</strong></td>
<td>JSON serializable object containing key value pairs. Object can contain attributes of any names. <code class="prettyprint">username</code> attribute has special meaning. It is displayed as visitor&rsquo;s name in chat dialog and reports. Example: <code class="prettyprint">{ username: &#39;John Doe&#39; }</code></td>
</tr>
<tr>
<td><code class="prettyprint">signing_algorithm</code></td>
<td>String</td>
<td>optional</td>
<td>String identifying which algorithm is used for signing. Default is &lsquo;plain&rsquo; which means no signing. See full list of supported algorithms below.</td>
</tr>
<tr>
<td><code class="prettyprint">replace_existing</code></td>
<td>Bool</td>
<td>optional</td>
<td>If set to <code class="prettyprint">true</code> will replace existing data that was attached to visitor. Otherwise existing data will be extended with new values. Default is <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">room_information</code></td>
<td>Array</td>
<td>optional</td>
<td>Array of room information objects. This parameter controls the room where the data will be connected. If not set, it will default to domain room. Room info object has to contain either <code class="prettyprint">id</code> or <code class="prettyprint">name</code> attribute. Example: <code class="prettyprint">[{ name: &#39;My custom room&#39; }]</code></td>
</tr>
</tbody></table>

<h3 id="submit-visitor-data-to-multiple-rooms-at-once">Submit visitor data to multiple rooms at once</h3>
<pre class="highlight javascript"><code><span class="c1">// Attach data to visitor and make it available on multiple rooms.</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="na">id</span><span class="p">:</span> <span class="s1">'kbio5de27gjo767wcqaafh7g6mpluvar4ofiausuac7acbam'</span><span class="p">,</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Another room'</span>
<span class="p">}];</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'submit'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="s1">'John Doe'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
    <span class="na">has_car</span><span class="p">:</span><span class="kc">true</span>
<span class="p">},</span> <span class="s1">'plain'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>
</code></pre>

<p>It is possible to submit data to multiple rooms at once by passing array as <code class="prettyprint">&lt;room_information&gt;</code> parameter.</p>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;submit&#39;, &lt;visitor_data&gt;, &lt;signing_algorithm&gt;, &lt;replace_existing&gt;, [&lt;room_information&gt;]);</code></p>

<h3 id="signing-visitor-data">Signing visitor data</h3>
<pre class="highlight javascript"><code><span class="c1">// Example of submitting JWT signed visitor data</span>
<span class="kd">var</span> <span class="nx">jwt_payload</span> <span class="o">=</span> <span class="s1">'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21pY191cmwiOiJodHRwOi8veGtjZC5jb20vMTM2MC8ifQ.BsjBt9a9imoj9P5_7aIAe5nuhPd5jb8HGvAJKPCwm6A'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">algorithm</span> <span class="o">=</span> <span class="s1">'HS256'</span><span class="p">;</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'submit'</span><span class="p">,</span> <span class="nx">jwt_payload</span><span class="p">,</span> <span class="nx">algorithm</span><span class="p">);</span>

<span class="c1">// Example of submitting SHA1/MD5 signed visitor data</span>
<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="s1">'Django signed'</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span><span class="s1">'django@giosg.com'</span><span class="p">,</span>
    <span class="na">_checksum</span><span class="p">:</span><span class="s1">'e584526251c396fc937e27561c9597c8'</span><span class="p">,</span>
    <span class="na">_exp</span><span class="p">:</span><span class="s1">'1371720939'</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'submit'</span><span class="p">,</span> <span class="nx">payload</span><span class="p">,</span> <span class="s1">'md5'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

</code></pre>

<p>Signing is used for validating that data is not altered by web page&rsquo;s visitor. If signing is required for domain and checksum is not set or it&rsquo;s wrong, then giosg will reject the data and HTTP status 400 will be returned.</p>

<p>There is two different options for signing data: JSON Web Token specification (JWT) and simple sha1/md5. JSON Web Token specification is recommended with HMAC SHA-256 hash algorithm.</p>

<p><strong>Please note</strong> that signed data can be still seen by visitor but cannot be modifed anyway without giosg being able to recognize that and then reject data.</p>

<p><strong>Javascript call:</strong></p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;submit&#39;, &lt;jwt_payload&gt;, &lt;signing_algorithm&gt;);</code></p>

<p><strong>jwt_payload</strong> is json web token generated from payload data. Note that payload data may contain property <strong>exp</strong> that contains token expiration time as a UTC UNIX timestamp (an int). This will be used to check if token is still valid.</p>

<p><strong>signing_algorithm</strong> is algorithm used. This is required.</p>

<h3 id="supported-signing-algorithms">Supported signing algorithms</h3>

<table><thead>
<tr>
<th>Algorithm</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">HS256</code></td>
<td>JWT</td>
<td> HMAC using SHA-256 hash algorithm (recommended)</td>
</tr>
<tr>
<td><code class="prettyprint">HS384</code></td>
<td>JWT</td>
<td> HMAC using SHA-384 hash algorithm</td>
</tr>
<tr>
<td><code class="prettyprint">HS512</code></td>
<td>JWT</td>
<td> HMAC using SHA-512 hash algorithm</td>
</tr>
<tr>
<td><code class="prettyprint">RS256</code></td>
<td>JWT</td>
<td> RSASSA-PKCS1-v1_5 signature algorithm using SHA-256 hash algorithm</td>
</tr>
<tr>
<td><code class="prettyprint">RS384</code></td>
<td>JWT</td>
<td> RSASSA-PKCS1-v1_5 signature algorithm using SHA-384 hash algorithm</td>
</tr>
<tr>
<td><code class="prettyprint">RS512</code></td>
<td>JWT</td>
<td> RSASSA-PKCS1-v1_5 signature algorithm using SHA-512 hash algorithm</td>
</tr>
<tr>
<td><code class="prettyprint">sha1</code></td>
<td>hash</td>
<td>SHA-1 (Secure Hash Algorithm 1)</td>
</tr>
<tr>
<td><code class="prettyprint">md5</code></td>
<td>hash</td>
<td>MD5 message-digest algorithm</td>
</tr>
</tbody></table>

<h3 id="generating-signed-payload-with-jwt">Generating signed payload with JWT</h3>
<pre class="highlight python"><code><span class="c"># 1. Install PyJWT</span>
<span class="c"># 2. open python shell and run:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">jwt</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">time</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">exp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="mi">30</span><span class="p">)</span> <span class="c"># 30 seconds in future</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"comic_url"</span><span class="p">:</span> <span class="s">"http://xkcd.com/1360/"</span><span class="p">,</span> <span class="s">"exp"</span><span class="p">:</span> <span class="n">exp</span> <span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">token</span> <span class="o">=</span> <span class="n">jwt</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s">"supersecretkey"</span><span class="p">,</span> <span class="s">"HS256"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="n">token</span>
<span class="s">'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21pY191cmwiOiJodHRwOi8veGtjZC5jb20vMTM2MC8ifQ.BsjBt9a9imoj9P5_7aIAe5nuhPd5jb8HGvAJKPCwm6A'</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre>

<p>Example of generating JWT token with Python can be found from the right.</p>

<p>You can find more information about JWT from these resources:</p>

<ul>
<li>JWT Specification: <a href="#">http://tools.ietf.org/html/draft-ietf-oauth-json-web-token-20</a></li>
<li>Python: <a href="#">https://pypi.python.org/pypi/PyJWT/0.2.1</a></li>
<li>PHP: <a href="#">https://github.com/firebase/php-jwt</a></li>
<li>Java: <a href="#">https://github.com/auth0/java-jwt</a></li>
<li>Asp.Net: <a href="#">https://www.nuget.org/packages/JWT</a></li>
</ul>

<h3 id="generating-signed-payload-with-sha1-md5">Generating signed payload with SHA1/MD5</h3>
<pre class="highlight python"><code><span class="c"># Open python shell and run:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">hashlib</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="s">'supersecret'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'username'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span> <span class="s">'age'</span><span class="p">:</span> <span class="mi">29</span> <span class="p">};</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sorted_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">concatenated_payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">sorted_keys</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">concatenated_payload</span> <span class="o">+=</span> <span class="s">'</span><span class="si">%</span><span class="s">s:</span><span class="si">%</span><span class="s">s&amp;'</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">payload</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">concatenated_payload</span> <span class="o">+=</span> <span class="n">secret_key</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">checksum</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">concatenated_payload</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="n">checksum</span>
<span class="s">'0ea59ee5af5fa0aba76f1a6fd209d396'</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre>

<p>Checksum is calculated on server side by using md5 or sha1 algorithm. For checksum calculation payload data need&rsquo;s to be formatted in specific way as a string.
First JSON paylod parameters must be sorted alphabetically. Then every parameter and it&rsquo;s value need&rsquo;s to be delimited with <code class="prettyprint">:</code>.
Delimiter between multiple key/value pairs is <code class="prettyprint">&amp;</code>. Then checksum need&rsquo;s to be calculated from that string and appended secret key.</p>

<p>After calculation checksum need&rsquo;s to be placed inside payload JSON in <code class="prettyprint">_checksum</code> field. It is also recommended that <code class="prettyprint">_exp</code> field is present on payload
and contains checksum expiration time as a UTC UNIX timestamp (an int).</p>

<p><strong>Note:</strong> Boolean values should be lower case if present. For example checkbox:true. Null values are not recommended.</p>

<p>Example of generating md5 checksum with Python can be found from the right.</p>

<h3 id="remove-submitted-data">Remove submitted data</h3>
<pre class="highlight javascript"><code><span class="c1">// Remove single key from visitor data</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'remove'</span><span class="p">,</span> <span class="s1">'username'</span><span class="p">);</span>

<span class="c1">// Clear all data from visitor</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'visitor'</span><span class="p">,</span> <span class="s1">'removeAll'</span><span class="p">);</span>

</code></pre>

<p>It is also possible to remove submitted data from visitor.</p>

<p><strong>Remove single data key from visitor:</strong></p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;remove&#39;, &lt;key&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td><strong>required</strong></td>
<td>Attribute from previously submitted api data that should be removed.</td>
</tr>
</tbody></table>

<p><strong>Remove all previously added data from visitor:</strong></p>

<p><code class="prettyprint">_giosg(&#39;visitor&#39;, &#39;removeAll&#39;);</code></p>

<h2 id="visitor-rooms-api">Visitor rooms API</h2>

<p>With javascript rooms API you can control which rooms visitor will be connected to.</p>

<h3 id="join-visitor-to-room">Join visitor to room</h3>
<pre class="highlight javascript"><code><span class="c1">// Join visitor to room with room ID</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span>
    <span class="s1">'swugkoy472m5tdg4lyaafmnl4xtbs2ar4sxtq4c2w2z2wzym'</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'join'</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>

<span class="c1">// Join visitor to room with room name</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Special room'</span> <span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'join'</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>

<span class="c1">// Join visitor to multiple room's with once call</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="na">id</span><span class="p">:</span> <span class="s1">'swugkoy472m5tdg4lyaafmnl4xtbs2ar4sxtq4c2w2z2wzym'</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Sales'</span>
<span class="p">}];</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'join'</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>
</code></pre>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;room&#39;, &#39;join&#39;, &lt;room_information&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_information</code></td>
<td>Array</td>
<td><strong>required</strong></td>
<td>Array of room information objects. This parameter controls what rooms visitor will join to. Room info object has to contain either <code class="prettyprint">id</code> or <code class="prettyprint">name</code> attribute. Example: <code class="prettyprint">[{ name: &#39;My custom room&#39; }]</code></td>
</tr>
</tbody></table>

<h3 id="leave-visitor-from-room">Leave visitor from room</h3>
<pre class="highlight javascript"><code><span class="c1">// Leave visitor from room by id</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span><span class="s1">'swugkoy472m5tdg4lyaafmnl4xtbs2ar4sxtq4c2w2z2wzym'</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'leave'</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>

<span class="c1">// Leave visitor from room by name</span>
<span class="kd">var</span> <span class="nx">roomInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span><span class="s1">'Support room'</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'leave'</span><span class="p">,</span> <span class="nx">roomInfo</span><span class="p">);</span>

<span class="c1">// Leave visitor from all rooms expect domain room.</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'room'</span><span class="p">,</span> <span class="s1">'leave'</span><span class="p">);</span>
</code></pre>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;room&#39;, &#39;leave&#39;, &lt;room_information&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_information</code></td>
<td>Array</td>
<td>optional</td>
<td>Array of room information objects. This parameter controls what rooms to leave. If not set, visitor will leave all rooms expect domain room. Room info object has to contain either <code class="prettyprint">id</code> or <code class="prettyprint">name</code> attribute. Example: <code class="prettyprint">[{ name: &#39;My custom room&#39; }]</code></td>
</tr>
</tbody></table>

<h2 id="visitor-chat-api">Visitor chat API</h2>

<p>With javascript chat API it is possible to force ending of chat conversation and/or hiding a chat window if a visitor for example logs out from your application.</p>

<h3 id="end-chat-session">End chat session</h3>
<pre class="highlight javascript"><code><span class="c1">// Close all open chats for this visitor</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">,</span> <span class="p">{</span> <span class="na">all</span><span class="p">:</span><span class="kc">true</span> <span class="p">});</span>
<span class="c1">// or</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">);</span>


<span class="c1">// Close all open chats for this visitor and hide the visitor's chat window</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">,</span> <span class="p">{</span> <span class="na">hide</span><span class="p">:</span><span class="kc">true</span> <span class="p">});</span>


<span class="c1">// Close specific chat session with parent room ID</span>
<span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="s1">'sgek3zw6h3orokc4giaafcxcm72zx3qr4sqzk3cabcw7p2am'</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span>


<span class="c1">// Close chat from specific parent room with room name</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span><span class="s1">'Sales room'</span> <span class="p">});</span>


<span class="c1">// You can also show a message to user, specify "sender"</span>
<span class="c1">// of this message and clear existing history.</span>
<span class="kd">var</span> <span class="nx">roomData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'Chat conversations has ended!'</span><span class="p">,</span>
    <span class="na">messageSender</span><span class="p">:</span> <span class="s1">'Chat service'</span><span class="p">,</span>
    <span class="na">clearHistory</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'close'</span><span class="p">,</span> <span class="nx">roomData</span><span class="p">);</span>
</code></pre>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;chat&#39;, &#39;close&#39;, &lt;options&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">options</code></td>
<td>Object</td>
<td>optional</td>
<td>Options object. See possible option values below</td>
</tr>
</tbody></table>

<p><strong>Possible attributes for options object:</strong></p>

<table><thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">all</code></td>
<td>Bool</td>
<td>optional</td>
<td>If set to true, close all open chat sessions</td>
</tr>
<tr>
<td><code class="prettyprint">hide</code></td>
<td>Bool</td>
<td>optional</td>
<td>If set to true, hides chat window also.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>optional</td>
<td>ID of the room where to close the chat session from.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String      optional</td>
<td>Name of the room where to close the chat session from.</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clearHistory</code></td>
<td>Bool</td>
<td>optional</td>
<td>If set to true, clear&rsquo;s all visitors chat history. This doesn&rsquo;t remove data from database but from client only!</td>
</tr>
<tr>
<td><code class="prettyprint">message</code></td>
<td>String</td>
<td>ptional</td>
<td>Show a message to user when chat session is closed</td>
</tr>
<tr>
<td><code class="prettyprint">messageSender</code></td>
<td>String</td>
<td>optional</td>
<td>Set sender of the <code class="prettyprint">message</code>. This option only applies if <code class="prettyprint">message</code> is specified also.</td>
</tr>
</tbody></table>

<h3 id="hide-chat">Hide chat</h3>
<pre class="highlight javascript"><code><span class="c1">// Close chat window</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'hide'</span><span class="p">);</span>


<span class="c1">// Close chat window without affection other tabs</span>
<span class="c1">// where chat window might be open.</span>
<span class="nx">_giosg</span><span class="p">(</span><span class="s1">'chat'</span><span class="p">,</span> <span class="s1">'hide'</span><span class="p">,</span> <span class="p">{</span> <span class="na">preserveWindowState</span><span class="p">:</span><span class="kc">true</span> <span class="p">});</span>
</code></pre>

<p>Hide a chat from a visitor without closing the chat session.</p>

<p>Javascript call:</p>

<p><code class="prettyprint">_giosg(&#39;chat&#39;, &#39;hide&#39;, &lt;options&gt;);</code></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">options</code></td>
<td>Object</td>
<td>optional</td>
<td>Options object. See possible option values from below.</td>
</tr>
</tbody></table>

<p><strong>Possible attributes for options object:</strong></p>

<table><thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">preserveWindowState</code></td>
<td>Object</td>
<td>If <code class="prettyprint">preserveWindowState</code> is set to <code class="prettyprint">true</code> will not affect other tabs where window might be open.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
