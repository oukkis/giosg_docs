<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>giosg API Reference - HTTP API</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="http_api">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
      <ul class="toc-footer">
        <li><a href='./index.html'>Home</a></li>
        <li><a href='./http_api.html'>Giosg HTTP API</a></li>
        <li><a href='./visitor_http_api.html'>Visitor HTTP API</a></li>
        <li><a href='./javascript_api.html'>JavaScript SDK API</a></li>
        <li><a href='./giosg_apps.html'>Giosg APPS</a></li>
        <li><a href='./basket.html'>Giosg BASKET</a></li>
      </ul>
      <ul class="toc-footer">
        <li><a href='http://www.giosg.com' target="_blank">Sign Up on giosg.com</a></li>
        <li><a href="https://docs.giosg.com/doku.php?id=public:technical-documentation:backend-api" target="_blank">Old API documentation</a></li>
        <li><a href='https://github.com/tripit/slate' target="_blank">Documentation Powered by Slate</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="using-the-api">Using the API</h1>

<aside class="warning">
This documentation is a <strong>draft</strong>! Anything stated in this document may be changed significantly!
</aside>

<aside class="success">
<strong>This is the new, recommended version of giosg API, preferred over the <a href="https://docs.giosg.com/doku.php?id=public:technical-documentation:backend-api">old deprecated API</a>!</strong>
</aside>

<h2 id="authentication">Authentication</h2>

<p>You need to provide a valid API key in order access the API. You can create an API key from <a href="https://service.giosg.com/en/settings/#/live/company/tokens">&ldquo;API keys&rdquo; section in your company settings</a>:</p>

<p><em>Log in to Console → Settings Menu → Company → API keys</em></p>

<p>Once you have obtained your API key, define the Authorization HTTP header for all your API requests:</p>

<p><code class="prettyprint">Authorization: Token 12d5da2085267caa5e41594a47b47e08fcef2530</code></p>

<aside class="notice">
The string in the end of the header should be replaced with your API key.
</aside>

<p>Alternatively, if you are unable to customize headers, you may add the token as a GET parameter: <code class="prettyprint">token=12d5da2085267caa5e41594a47b47e08fcef2530</code>. However, we strongly recommend using HTTP headers.</p>

          <h2 id="accept-header">Accept Header</h2>

<p>You also need to define that you accept JSON-formatted responses by providing the Accept HTTP header:</p>

<p><code class="prettyprint">Accept: application/json</code></p>

<p>Alternatively, if you are unable to customize headers, you may add <code class="prettyprint">format=json</code> GET parameter.</p>

<h2 id="resource-identifiers">Resource identifiers</h2>

<p>Unless stated otherwise, all the resources in the system are identified with a <a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Universally Unique Identifier (UUID)</a>. It is always represented as a string ID, in lower case and including dashes.</p>

<p>For example: <code class="prettyprint">9ae65e7d-56c5-11e5-af8d-6c4008c08dfe</code></p>

<h2 id="paginated-collections">Paginated collections</h2>

<blockquote>
<p>An example of a JSON response with a paginated collection</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/examples?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 1"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 2"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 3"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 4"</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Resource 5"</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Some of the API endpoints return paginated collections. That means that for large collections of resources, not all resources are returned in a single response, but the response contains an URL that can be used to fetch the next chunk (page) of results.</p>

<p>Paginated collections are objects with the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">next</code></td>
<td style="text-align: left">string</td>
<td>Full URL for requesting the next page. This is <code class="prettyprint">null</code> if the current page is the last page.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">previous</code></td>
<td style="text-align: left">string</td>
<td>Full URL for requesting the previous page. This is <code class="prettyprint">null</code> if the current page is the first page</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">results</code></td>
<td style="text-align: left">array of objects</td>
<td>The list containing the result resources for the current page. Each item is an object whose attributes depend on the returned resource type.</td>
</tr>
</tbody></table>

<aside class="warning">
Unless stated otherwise, the server only guarantees the order of the resources, but not the number of items returned per page. If you need a specific number of results, then you need to splice the returned list on the client.
</aside>

<aside class="info">
If you need to load all resources using an endpoint returning paginated collections, then you need to check if the <code>next</code> attribute is not <code>null</code>, potentially load the next page and then repeat this until you have loaded and built the full collection of resources.
</aside>

<h2 id="ordering-collections">Ordering collections</h2>

<p>A <a title="Paginated collections" href="#paginated-collections">paginated collection</a> can usually be ordered by using an <code class="prettyprint">ordering</code> attribute.</p>

<p>The allowed sorting criteria depends on the endpoint, but the basic usage is always the same. You have an allowed set of sorting attributes, e.g. <code class="prettyprint">first_name</code>, <code class="prettyprint">last_name</code> and <code class="prettyprint">created_at</code>. You may then choose the primary sorting key and any secondary sorting keys with a comma-separated string, e.g. <code class="prettyprint">last_name,first_name</code>.</p>

<p>Any sorting order is ascending by default, but may be reverted to descending order by prefixing with a minus (<code class="prettyprint">-</code>) character, e.g. <code class="prettyprint">-created_at</code> or <code class="prettyprint">last_name,-created_at</code>.</p>

<h2 id="date-time-format">Date/time format</h2>

<p>Unless stated otherwise, all the date/times returned by API endpoints are ISO-8601 strings with format <code class="prettyprint">YYYY-MM-DDTHH:MM:SS.MSSZ</code>, for example: <code class="prettyprint">2015-08-31T16:32:17.879Z</code>. Also, any date/time URL parameters or attributes send as a request payload accept this same format.</p>

<p>Unless stated otherwise, the times are expressed in UTC timezone!</p>

          <h1 id="customer-api">Customer API</h1>

<h2 id="users">Users</h2>

<p>A user represents a giosg user account. A user resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization to which the user belongs to</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource to which the user belongs to</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">first_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>First name</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">last_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Last name</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_manager</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td>Whether the user is a manager. You cannot change this for yourself. You may change the value for the other members of your organization, if you are a manager.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">alias</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Display name, used when chatting. May be <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">gender</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Gender with three options: <code class="prettyprint">1</code>= male, <code class="prettyprint">2</code>= female, <code class="prettyprint">null</code>= unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">birthday</code></td>
<td style="text-align: left"><a title="Date format" href="#date-format">date</a></td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Date of birth in format <code class="prettyprint">YYYY-MM-DD</code>, e.g. <code class="prettyprint">1980-06-19</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">phone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact phone number</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">title</code></td>
<td style="text-align: left">title</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Title of the user</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the user resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the user resource was updated last time</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">avatar</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The avatar of the user as an object. It contains attributes <code class="prettyprint">id</code>and <code class="prettyprint">url</code>. This is <code class="prettyprint">null</code> if the user has no avatar.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_online</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether the user is currently in online status as an operator, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_signed_in</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether the user is currenlty logged in to the service, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_chat_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>The number of chats the user has currently, based on the most recent information about the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_deleted</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>Whether this user exists no more. If <code class="prettyprint">true</code>, the resource exists only for historical purposes and cannot be used in any other context!</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_memberships</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Team membershipss" href="#team-memberships">team membership</a> resources, listing the teams this user belongs to. Each object in the array has the attributes <code class="prettyprint">id</code>, <code class="prettyprint">team_id</code>, <code class="prettyprint">team</code>, <code class="prettyprint">is_admin</code></td>
</tr>
</tbody></table>

<h3 id="get-your-own-user">Get your own user</h3>

<aside class="success">
It is a common use case to first find out your own user or your organization&rsquo;s information, and then perform further actions on it.
</aside>

<p>There is a special API endpoint that returns the <a title="Users" href="#users">user</a> resource depending on who is <a title="Authentication" href="#authentication">authenticated</a>.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/users/me</code></p>

<p>To find out your organization&rsquo;s ID, just use the <code class="prettyprint">organization_id</code> attribute of the returned resource. Alternatively you can use the nested <a title="Organizations" href="#organizations">organization</a> resource for more details).</p>

<p>This API endpoint returns a 401 response if you are not being currently authenticated. It returns a 403 response if your authentication token is not directly related to one specific user.</p>

<h3 id="get-a-collection-of-organization-members">Get a collection of organization members</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of users who belong to a given organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> or <code class="prettyprint">email</code> (with or without <code class="prettyprint">-</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, include deleted users to results. If <code class="prettyprint">false</code> (default), excludes any deleted users.</td>
</tr>
<tr>
<td><code class="prettyprint">is_manager</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only include managers. If <code class="prettyprint">false</code>, exclude all managers.</td>
</tr>
</tbody></table>

<h3 id="retrieve-details-of-an-organization-member">Retrieve details of an organization member</h3>

<p>Get a single <a title="Users" href="#users">user</a> object by its ID (<code class="prettyprint">&lt;user_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, does not return 404 for deleted resources.</td>
</tr>
</tbody></table>

<p>If you try to get a user that has been deleted, the endpoint results in 404 response by default. You may access the removed users of your organization for historical purposes by adding <code class="prettyprint">include_deleted=true</code> to the GET parameters.</p>

<p>This endpoint returns a 403 response if you do not have permissions for this organization. It returns a 404 response if the user does not exists <strong>or</strong> they doesn&rsquo;t belong to the organization.</p>

<h3 id="update-details-of-an-organization-member">Update details of an organization member</h3>

<p>You may update some of the attributes of a user (<code class="prettyprint">&lt;user_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains all the changed attributes of the <a title="Users" href="#users">user</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

<aside class="warning">
You are allowed to update your own details. You may only change other users&rsquo; details if you have management rights for the organization. Otherwise this endpoint will result in a 403 response.
</aside>

<h2 id="user-preferences">User preferences</h2>

<p>Each user always has a single preferences resource containing private settings conserning the user account. A user prefernces resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td></td>
<td>ID which equaling the ID of the related user</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chat_capacity</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left"><strong>required</strong></td>
<td>5</td>
<td>An estimate about the maximum number of people the user is willing to chat with simultaneously. The system uses this value in its algorithms to determine how many messages are sent in the name of the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">desktop_message_sound</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">visitor_message</code></td>
<td>Identifier for the message sound used when a visitor sends a message.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_desktop_message_sound_continuous</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">true</code></td>
<td>Whether or not to play the message sound continuously until the user interacts with the UI.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">desktop_visitor_added_sound</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">visitor_connect</code></td>
<td>Identifier for the message sound played when a new visitor becomes present.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_desktop_visitor_added_sound_continuous</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">true</code></td>
<td>Whether or not to play the visitor added sound continuously until the user interacts with the UI.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">ui_language_code</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">en</code></td>
<td>Preferred UI Language in ISO 639-1 code.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_muted_offline</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">false</code></td>
<td>Whether or not to disable the sounds while the user is offline.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_statistics_email_enabled</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">true</code></td>
<td>Whether or not to send statistic emails to the user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_desktop_notification_enabled</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">false</code></td>
<td>Whether or not to use desktop notifcations (if supported by the browser)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_spellcheck_enabled</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td><code class="prettyprint">false</code></td>
<td>Whether or not to enable spellchecking when composing messages (if supported by the browser)</td>
</tr>
</tbody></table>

<aside class="info">
User preferences are created and deleted with the user. They can only be updated. The preference attributes are initially set to their default values.
</aside>

<h3 id="retrieve-user-preferences">Retrieve user preferences</h3>

<p>You can get the preferences of the user:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/preferences</code></p>

<h3 id="update-user-preferences">Update user preferences</h3>

<p>You can update <em>some or all</em> your preferenes with a <code class="prettyprint">PATCH</code> request:</p>

<p><code class="prettyprint">PATCH /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/preferences</code></p>

<p>Any omitted preference attributes are kept in their previous values.</p>

<p>You can also make a <code class="prettyprint">PUT</code> request, but in this case you need to provide <em>all</em> the preference attributes, otherwise a 400 response is returned:</p>

<p><code class="prettyprint">PUT /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/preferences</code></p>

<h2 id="organizations">Organizations</h2>

<p>An organization represents any organization account on giosg system. An organization consists of a number of users with their own user accounts. A user always belongs to exactly one organization.</p>

<p>Please note that despite its name a &ldquo;organization&rdquo; in this context means any organization or group. It can even consists of only one user.</p>

<p>An organization object contains the following attributes. Note that the contact information is public.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier for this organization</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required?</strong></td>
<td>The name of the organization. Required, if your organization is using Network features, such as <a href="#partnership-api">partnerships</a> or <a href="#sharing-api">sharing</a>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact email address, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">phone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact phone number, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">street</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact street address, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">postal_code</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact address postal code, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">city</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Contact address city, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">country</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Country as a two-letter, lowercase ISO 3166-1 code, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Business ID of the organization, if any, or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this organization account was created. <strong>Available only for your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When organization details were changed last time. <strong>Available only for your own organization.</strong></td>
</tr>
</tbody></table>

<h3 id="retrieve-organization-details">Retrieve organization details</h3>

<p>Get a single <a title="Organizations" href="#organizations">organization</a> object by its ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<h3 id="update-organization-details">Update organization details</h3>

<p>You may update some of the attributes a organization, if you have permissions to do so.</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains the changed attributes the <a title="Organizations" href="#organizations">organization</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

          <h1 id="teams-api">Teams API</h1>

<h2 id="teams">Teams</h2>

<p>A team object contains the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The unique identifier of this team</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the organization who owns this team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who owns this team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td><strong>required</strong></td>
<td>Name of the team. Must be a non-empty string.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">display_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Display name of the team. It may equal to the <code class="prettyprint">name</code> attribute, unless this team is <a title="Outgoing team shares" href="#outgoing-team-shares">shared</a> to your organization with a custom <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the team resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the team resource was updated last time</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">member_count</code></td>
<td style="text-align: left">integer</td>
<td>read-only</td>
<td>Number of <a title="Team membershipss" href="#team-memberships">members</a> in this team, including both admins and non-admins. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">admin_count</code></td>
<td style="text-align: left">integer</td>
<td>read-only</td>
<td>Number of <a title="Team membershipss" href="#team-memberships">admins</a> in this team. <strong>Available only to your own organization.</strong></td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-teams">Get a collection of teams</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Teams" href="#teams">team</a> resources of an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). By default, this also includes any [teams shared to your company][incoming team shares]!</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> or <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">is_shared</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only teams that are shared to the organization. If <code class="prettyprint">false</code>, return only the organization&rsquo;s own teams.</td>
</tr>
</tbody></table>

<p>Teams are readable by anyone in the same organization. However, they can be created, updated or deleted only by organization managers.</p>

<h3 id="retrieve-team-details">Retrieve team details</h3>

<p>Get a single team object (<code class="prettyprint">&lt;team_id&gt;</code>) of an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). This may be a [team shared to the organization][incoming team shares].</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h3 id="creating-a-team">Creating a team</h3>

<p>Create a team for an organization (<code class="prettyprint">&lt;organization_id&gt;</code>)</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams</code></p>

<h3 id="update-a-team">Update a team</h3>

<p>You may update the editable attributes of a team (<code class="prettyprint">&lt;team_id&gt;</code>) that belongs to an organization (<code class="prettyprint">&lt;organization_id&gt;</code>). You can make either a <code class="prettyprint">PATCH</code> request (update a subset of attributes) or <code class="prettyprint">POST</code> request (update all the attributes).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h3 id="delete-a-team">Delete a team</h3>

<aside class="warning">
Deleting a team will immediately clear all the memberships from the team. It will also unshare it from your partners! You cannot undo this action, but you can re-create and re-share the team and its memberships again.
</aside>

<p>You may delete one of your own teams by making a <code class="prettyprint">DELETE</code> request.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;</code></p>

<h2 id="team-memberships">Team memberships</h2>

<p>A <strong>team membership</strong> represents a user belonging to a specific team. Team memberships are only visible for teams of your own organization. A team membership resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the team to which this member belongs.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Teams" href="#teams">team</a> to which this member belongs, with attributes <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">display_name</code>, and <code class="prettyprint">organization_id</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the member user.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The member <a title="Users" href="#users">user</a> resource. Has all other attributes than <code class="prettyprint">organization</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_admin</code></td>
<td style="text-align: left">boolean</td>
<td><strong>required</strong></td>
<td>Whether or not the member is an admin of the team.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the membership resource was created</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the membership resource was updated last time</td>
</tr>
</tbody></table>

<p>Team memberships are readable by any member of the same organization. However, they can be created, updated or deleted only by either organization managers or by team admins. Otherwise, the endpoints will return a <code class="prettyprint">403 Forbidden</code> response.</p>

<h3 id="get-a-collection-of-team-members">Get a collection of team members</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Team membershipss" href="#team-memberships">team membership</a> resources for a specific <a title="Teams" href="#teams">team</a>.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_admin</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only admin memberships. If <code class="prettyprint">false</code>, return only non-admin memberships.</td>
</tr>
</tbody></table>

<h3 id="add-a-member-to-a-team">Add a member to a team</h3>

<p>You may add a user of your own organization to one of your teams by creating a team membership object.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<p>This returns a <code class="prettyprint">201 Created</code> response if the user with the given ID was successfully added to the team. If the user was already in the team, this updates the <code class="prettyprint">is_admin</code> attribute and returns <code class="prettyprint">200 OK</code> response with the existing membership resource.</p>

<h3 id="update-a-team-membership">Update a team membership</h3>

<p>You may update a team membership, i.e. change the admin status of a member either by attempting to create a new membership with <code class="prettyprint">POST</code> or updating with <code class="prettyprint">PUT</code>.</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<p>This returns a <code class="prettyprint">201 Created</code> response if the user did not belong to team previously but was now added. If the user was already in the team, this updates the attributes and returns <code class="prettyprint">200 OK</code> response with the existing membership resource.</p>

<p>You may also update a membership with a <code class="prettyprint">PATCH</code> request, but this will return <code class="prettyprint">404 Not Found</code> in case the membership did not exist.</p>

<h3 id="remove-a-member-from-a-team">Remove a member from a team</h3>

<p>You may remove a user from a team by deleting his/her membership.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

<h3 id="retrieve-team-membership-details">Retrieve team membership details</h3>

<p>You may get the a user membership resource in a team:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/teams/&lt;team_id&gt;/memberships/&lt;user_id&gt;</code></p>

          <h1 id="rooms-api">Rooms API</h1>

<h2 id="rooms-and-domains">Rooms and domains</h2>

<p>The room resource has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The unique identifier of this room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">token</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>A signed Giosg token, used as a public identifier of this room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the organization who owns this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who owns this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">domain</code></td>
<td style="text-align: left">string</td>
<td><strong>optional</strong></td>
<td>A domain hostname if this room is a <strong>domain room</strong>, otherwise <code class="prettyprint">null</code> if this is a custom room. <strong>Cannot be changed after creation.</strong> You cannot have multiple domain rooms with the same <code class="prettyprint">domain</code> attribute!</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td><strong>required</strong></td>
<td>Name of the room, set by the owner. Must be a non-empty string.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">display_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Display name of the room. It may equal to the <code class="prettyprint">name</code> attribute, unless this room is <a title="Outgoing room shares" href="#outgoing-room-shares">shared</a> to your organization with a custom <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_shared</code></td>
<td style="text-align: left">boolean</td>
<td>read-only</td>
<td><code class="prettyprint">true</code> if the room is shared to your organization, <code class="prettyprint">false</code> if your organization owns the room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">allowed_domains</code></td>
<td style="text-align: left">array of objects</td>
<td>read-only</td>
<td>List of domain rooms on which this room may be used. Each object in the array contains <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">display_name</code> and <code class="prettyprint">domain</code> attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">language_code</code></td>
<td style="text-align: left">string</td>
<td><strong>optional</strong></td>
<td>Language of this room in ISO 639-1 code, or <code class="prettyprint">null</code> if undefined.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When this room was created. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When this room was updated last time. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>string</td>
<td>ID of the user who last updated this room, or <code class="prettyprint">null</code> if unknown. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_by_user</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>Details of the user who last updated this room, or <code class="prettyprint">null</code> if unknown. <strong>Available only to your own organization.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_deleted</code></td>
<td style="text-align: left">boolean</td>
<td>read-only</td>
<td>Whether this room exists no more. The resource exists only for historical purposes and cannot be used in any other context.</td>
</tr>
</tbody></table>

<p>Domain rooms are like any other rooms except that they are linked to exactly one domain (website). You need a domain room in order to use a Giosg services on your website.</p>

<h3 id="retrieve-room-details">Retrieve room details</h3>

<p>Get a single room object that your organization has access to, by its ID. This may be a shared room.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">true</code>, does not return 404 for deleted resources.</td>
</tr>
</tbody></table>

<p>If you try to get a room that has been deleted, the endpoint results in 404 response by default. You may access the removed rooms of your organization for historical purposes by adding <code class="prettyprint">include_deleted=true</code> to the GET parameters.</p>

<h3 id="get-a-collection-of-rooms">Get a collection of rooms</h3>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Rooms and domains" href="#rooms-and-domains">room</a> resources you have access to, including any shared rooms:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/rooms</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> and <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">include_deleted</code></td>
<td>boolean</td>
<td><code class="prettyprint">false</code></td>
<td>If <code class="prettyprint">true</code>, include deleted resources to results. If <code class="prettyprint">false</code> (default), excludes any deleted resources.</td>
</tr>
<tr>
<td><code class="prettyprint">is_shared</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, return only rooms shared to your organization. If <code class="prettyprint">false</code>, return only your own organization&rsquo;s rooms.</td>
</tr>
<tr>
<td><code class="prettyprint">organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Return only rooms owned by this organization ID</td>
</tr>
</tbody></table>

<h3 id="creating-a-room">Creating a room</h3>

<p>Create a new custom room or a domain room by making a <code class="prettyprint">POST</code> request, providing the <a title="Rooms and domains" href="#rooms-and-domains">room object</a> as a payload. By providing the <code class="prettyprint">domain</code> attribute with non-null value will create a new domain room.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/rooms</code></p>

<h3 id="update-a-room">Update a room</h3>

<p>You may update the editable attributes of your own room by making either a <code class="prettyprint">PATCH</code> (update a subset of attributes) or <code class="prettyprint">POST</code> request (update all the attributes).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

<h3 id="delete-a-room">Delete a room</h3>

<aside class="warning">
Deleting a room will immediately unshare it from your partners! Even though your statistics for this room are preserved, you cannot gather any more data for this room. You cannot undo this action, but you need to re-create and re-share the room again.
</aside>

<p>You may delete one of your own rooms by making a <code class="prettyprint">DELETE</code> request.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/rooms/&lt;room_id&gt;</code></p>

          <h1 id="visitors-api">Visitors API</h1>

<h2 id="room-visitor">Room visitor</h2>

<p>A visitor has a separate representation <strong>for each room</strong>. The returned attributes are different depending on from which room the visitor was requested.</p>

<aside class="warning">
<strong>NOTE</strong> that all the metadata may not be available at the time of a request. In that case, they will be <code>null</code>. An appropriate notification will be sent via channels when the information becomes available.
</aside>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Unique identifier for the visitor. This is the same for the same visitor regardless of the room from which the visitor was requested.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">ID of the room from which this room visitor resource was requested</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_online</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Whether or not the visitor is currently online in the room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">session_id</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Identifier for the latest session for the visitor in this room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">visit_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">During how many distinct sessions the visitor has been active on this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">device_type</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Either <code class="prettyprint">desktop</code>, <code class="prettyprint">mobile</code> or <code class="prettyprint">tablet</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">device_screen_width</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">The width resolution of the visitor&rsquo;s screen</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">device_screen_height</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">The height resolution of the visitor&rsquo;s screen</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">browser_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Name of the browser which the visitor is currently using, without any version number.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">browser_version</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Version of the browser which the visitor is currently using.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">os_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Name of the operating system which the visitor is using</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">os_version</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Version of the operating system which the visitor is using</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user_agent</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">User-Agent header of the visitor browser</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">ip_address</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">IP address of the visitor (IPv4)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">ip_organization</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">An organization name resolved from the IP address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">geo_city</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The best guess about the name of the city where the visitor is currently located. This is usually resolved from their IP address.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">geo_country_code</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The best guess about the country where the visitor is currently located. This is usually resolved from their IP address. This is a upper-case, two-letter ISO 3166-1 country code</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">geo_country</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The country as in <code class="prettyprint">country_code</code>, but represented as the name of the country.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">referrer_url</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The full URL from which the visitor entered the room during this session</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">referrer_hostname</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Hostname from which the visitor entered the room during this session</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">referrer_medium</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Either <code class="prettyprint">internal</code>, <code class="prettyprint">search</code>, <code class="prettyprint">email</code>, <code class="prettyprint">social</code>, or <code class="prettyprint">website</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">referrer_source</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The name of the referrer source</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">original_referrer_url</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The full URL from which the visitor originally entered the room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">original_referrer_hostname</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Hostname from which the visitor originally entered the room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">original_referrer_medium</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Either <code class="prettyprint">internal</code>, <code class="prettyprint">search</code>, <code class="prettyprint">email</code>, <code class="prettyprint">social</code>, or <code class="prettyprint">website</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">original_referrer_source</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The name of the original referrer source</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_page_url</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">URL of the web page at which the visitor is currently, at this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_page_canonical_url</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Canonical URL of the web page at which the visitor is currently, at this room. Same than <code class="prettyprint">current_page_url</code> if no canonical URL is available.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">current_page_title</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Title of the web page at which the visitor is currently, at this room.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">shopping_cart_currency</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The currency of the visitor&rsquo;s shopping cart in the room, if the visitor has any, otherwise <code class="prettyprint">null</code>. Currency is a upper-case <a href="http://www.xe.com/iso4217.php">ISO 4217 currency code</a>, e.g. <code class="prettyprint">EUR</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">shopping_cart_total_value</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The total value of the visitor&rsquo;s shopping cart in the room, if the visitor has any. Value <code class="prettyprint">null</code> means the shopping cart is not defined. The value is presented as a decimal string, e.g. <code class="prettyprint">59.00</code> in the currency defined by <code class="prettyprint">shopping_cart_currency</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">shopping_cart_total_subscription_value</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">The total monthly subscription value of the visitor&rsquo;s shopping cart in the room, if the visitor has any. Value <code class="prettyprint">null</code> means the shopping cart is not defined. The value is presented as a decimal string, e.g. <code class="prettyprint">59.00</code> in the currency defined by <code class="prettyprint">shopping_cart_currency</code> and <strong>per month</strong>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">shopping_cart_locked_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">When the visitor checked out their shopping cart in this room. It is <code class="prettyprint">null</code> if the cart is not yet checked out or the cart is not defined.</td>
</tr>
</tbody></table>

<aside class="warning">
The following attributes also exists but they are <strong>deprecated</strong>, so you should avoid using them.
</aside>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">pipeline_step_index</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">Number of the current pipeline step of the visitor starting from 1, or <code class="prettyprint">null</code> if not in a pipeline.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">pipeline_step_title</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">Name of the current pipeline step of the visitor, or <code class="prettyprint">null</code> if not in a pipeline.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">pipeline_step_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">The total number of steps in the pipeline, or <code class="prettyprint">null</code> if not in a pipeline.</td>
</tr>
</tbody></table>

<p>Changes to a visitor is notified to the following <a title="Socket API and channels" href="#socket-api">channels</a>:</p>

<table><thead>
<tr>
<th>Channels</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/online_visitors</code></td>
<td>For each room where the visitor is currently online, and for each organization having access to that room. <strong>WARNING!</strong> This channel may get a large amount of notifications for rooms with heavy traffic!</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/online_visitors/&lt;visitor_id&gt;</code></td>
<td>For a changed visitor, for each room where the visitor is currently online, and for each organization having access to that room</td>
</tr>
</tbody></table>

<p>Channels are notified with a <code class="prettyprint">added</code> notification whenever a visitor becomes online at that specific room (i.e. the <code class="prettyprint">is_online</code> attribute on the <a title="Room visitors" href="#room-visitors">room visitor</a> changes). Similarly, it is notified with a <code class="prettyprint">removed</code> notification whenever we have not heard about the visitor (in that specific room) for a while, making the visitor offline at the room.</p>

<p>If any attribute of the room visitor changes, the channel receives a <code class="prettyprint">changed</code> notification.</p>

<h3 id="get-a-collection-of-visitors-currently-online-at-a-room">Get a collection of visitors currently online at a room</h3>

<p>You can get a collection of visitors that are currently online at a room.</p>

<p><code class="prettyprint">/api/v5/orgs/&lt;org_id&gt;/rooms/&lt;room_id&gt;/online_visitors</code></p>

<p>This API endpoint returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>.</p>

<p><strong>TODO</strong>: The ordering??</p>

<h3 id="get-a-single-visitor-at-a-room">Get a single visitor at a room</h3>

<p>You can get a single visitor at the given room.</p>

<p><code class="prettyprint">/api/v5/orgs/&lt;org_id&gt;/rooms/&lt;room_id&gt;/visitors/&lt;visitor_id&gt;</code></p>

          <h1 id="chat-api">Chat API</h1>

<h2 id="chats">Chats</h2>

<p>A chat represents a single conversation. In practice, there is exactly one visitor member and an arbitrary number of user (&ldquo;operator&rdquo;) members.</p>

<p>A chat has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>Unique identifier for the chat</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td>string</td>
<td>read-only</td>
<td>A legacy Giosg-signed encoded unique string for the chat</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the chat conversation started</td>
</tr>
<tr>
<td><code class="prettyprint">ended_at</code></td>
<td><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the chat conversation ended (or <code class="prettyprint">null</code> if not yet ended)</td>
</tr>
<tr>
<td><code class="prettyprint">updated_at</code></td>
<td><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the chat conversation was last time updated</td>
</tr>
<tr>
<td><code class="prettyprint">is_private</code></td>
<td>boolean</td>
<td>read-only</td>
<td>Whether or not the chat is marked as private for its operators</td>
</tr>
<tr>
<td><code class="prettyprint">is_real_conversation</code></td>
<td>boolean</td>
<td>read-only</td>
<td>Whether or not the chat is an actual conversation</td>
</tr>
<tr>
<td><code class="prettyprint">is_autosuggested</code></td>
<td>boolean</td>
<td>read-only</td>
<td>Whether or not the chat started with an autosuggestion</td>
</tr>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>ID of the <a title="Rooms and domains" href="#rooms-and-domains">room</a> in which the chat occurred</td>
</tr>
<tr>
<td><code class="prettyprint">message_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many <a title="Chat messages" href="#chat-messages">messages</a> there are in total in this chat at the moment. <strong>NOTE</strong> that this only includes messages with type <code class="prettyprint">msg</code>, so this does <strong>not</strong> include autosuggestions, or join/leave messages.</td>
</tr>
<tr>
<td><code class="prettyprint">user_message_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many <a title="Chat messages" href="#chat-messages">messages</a> there were by operator in this chat</td>
</tr>
<tr>
<td><code class="prettyprint">visitor_message_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many <a title="Chat messages" href="#chat-messages">messages</a> there were by visitor in this chat</td>
</tr>
<tr>
<td><code class="prettyprint">first_visitor_message_url</code></td>
<td>string</td>
<td>read-only</td>
<td>Full URL of the page that the visitor was on when they sent their first message to this chat, or <code class="prettyprint">null</code> if contains no message from the visitor.</td>
</tr>
<tr>
<td><code class="prettyprint">first_visitor_message_url_title</code></td>
<td>string</td>
<td>read-only</td>
<td>Title of the page that the visitor was on when they sent their first message, or <code class="prettyprint">null</code> if contains no message from the visitor.</td>
</tr>
<tr>
<td><code class="prettyprint">autosuggest_url</code></td>
<td>string</td>
<td>read-only</td>
<td>Full URL of the page that the visitor was on when they received an autosuggest, or <code class="prettyprint">null</code> if this chat does not contain an autosuggestion.</td>
</tr>
<tr>
<td><code class="prettyprint">autosuggest_url_title</code></td>
<td>string</td>
<td>read-only</td>
<td>Title of the page that the visitor was on when they received an autosuggest, or <code class="prettyprint">null</code> if this chat does not contain an autosuggestion.</td>
</tr>
<tr>
<td><code class="prettyprint">tag_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many tags there are associated with this chat.</td>
</tr>
<tr>
<td><code class="prettyprint">is_waiting</code></td>
<td>boolean</td>
<td>read-only</td>
<td>This is <code class="prettyprint">true</code> if the latest message in this chat is by the visitor, and if the chat has not ended, otherwise <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">present_member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many people (visitor and users) there are currently present at this chat.</td>
</tr>
<tr>
<td><code class="prettyprint">present_user_member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many users there are currently present at this chat.</td>
</tr>
<tr>
<td><code class="prettyprint">present_visitor_member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many visitor there are currently present at this chat (0 or 1)</td>
</tr>
<tr>
<td><code class="prettyprint">member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many people (visitor and users) have attended or sent messages to this chat.</td>
</tr>
<tr>
<td><code class="prettyprint">user_member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many users have sent at least one message to the chat.</td>
</tr>
<tr>
<td><code class="prettyprint">visitor_member_count</code></td>
<td>integer</td>
<td>read-only</td>
<td>How many visitors have attended this chat.</td>
</tr>
</tbody></table>

<p>Any changes to chats are notified to the following <a title="Socket API and channels" href="#socket-api">channels</a>:</p>

<table><thead>
<tr>
<th>Channel</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/api/v5/client/visitors/&lt;visitor_id&gt;/chats</code></td>
<td>For each visitor of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats</code></td>
<td>For each member and currently present user of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats</code></td>
<td>For the chat parent room chat collection and each organization having access to that room</td>
</tr>
</tbody></table>

<h3 id="list-chats-at-a-room">List chats at a room</h3>
<pre class="highlight plaintext"><code>GET https://service.giosg.com/api/v5/orgs/7f9e9580-095b-42c7-838c-c04e667b26f7/rooms/9926bdfa-56e0-11e5-b98c-6c4008c08dfe/chats
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/7f9e9580-095b-42c7-838c-c04e667b26f7/rooms/9926bdfa-56e0-11e5-b98c-6c4008c08dfe/chats?cursor=171cfd0d7ce542be86221f01d2823cb1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58f5055c-56e0-11e5-9354-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uibdbtmk5etolmjaduaafnqpl2ujzkyr4slkq3cabdai37qm"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:31:36.042"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T12:38:36.431"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_private"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_real_conversation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_autosuggested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9926bdfa-56e0-11e5-b98c-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"visitor_message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first_visitor_message_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.customerpage.com/settings"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first_visitor_message_url_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Profile Settings"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"autosuggest_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.customerpage.com/"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"autosuggest_url_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Site Frontpage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tag_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_waiting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"present_member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"present_user_member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"present_visitor_member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"visitor_member_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can list chats for a room:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats</code></p>

<p>This API endpoint returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>. They are sorted by the creation time of the chats, in descending order.</p>

<p>This endpoint takes the following GET-parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_waiting</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, then return only waiting chats. If <code class="prettyprint">false</code>, return only chats that are not waiting.</td>
</tr>
<tr>
<td><code class="prettyprint">is_ended</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only return ended chats. If <code class="prettyprint">false</code>, only return open chats.</td>
</tr>
</tbody></table>

<p>Returns 403 if you do not have permission to the room and you are not a manager.</p>

<h3 id="list-chats-of-a-user">List chats of a user</h3>

<p>You can get a collection of chats that a user has been participating <strong>or</strong> in which the user has ever been present. Simply put, this returns the chats of the user.</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats</code></p>

<p>This returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>. It is sorted by the creation time of the chat, in descending order.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_present</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only return chats where <code class="prettyprint">&lt;user_id&gt;</code> is <strong>currently</strong> present. If <code class="prettyprint">false</code>, exclude thats where <code class="prettyprint">&lt;user_id&gt;</code> is currently present.</td>
</tr>
<tr>
<td><code class="prettyprint">is_member</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only return chats where <code class="prettyprint">&lt;user_id&gt;</code> is a <a title="Chat members" href="#chat-members">chat member</a>. If <code class="prettyprint">false</code>, exclude thats where <code class="prettyprint">&lt;user_id&gt;</code> is a chat member.</td>
</tr>
<tr>
<td><code class="prettyprint">is_ended</code></td>
<td>boolean</td>
<td>(none)</td>
<td>If <code class="prettyprint">true</code>, only return ended chats. If <code class="prettyprint">false</code>, only return open chats.</td>
</tr>
</tbody></table>

<p>When using this endpoint, the chat as the following additional attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_present</code></td>
<td>boolean</td>
<td>read-only</td>
<td>Whether or not the <code class="prettyprint">&lt;user_id&gt;</code> is <strong>currently</strong> present at the chat</td>
</tr>
<tr>
<td><code class="prettyprint">is_member</code></td>
<td>boolean</td>
<td>read-only</td>
<td>Whether or not the <code class="prettyprint">&lt;user_id&gt;</code> is a <a title="Chat members" href="#chat-members">member of this chat</a></td>
</tr>
</tbody></table>

<h3 id="create-a-new-chat-with-a-visitor-in-a-room">Create a new chat with a visitor in a room</h3>

<p>Start a new chat with a visitor in the given room.</p>

<p><code class="prettyprint">POST /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/visitors/&lt;visitor_id&gt;/chats</code></p>

<p>Creating a new chat using this endpoint does not require any attributes and therefore the payload is not required. However, it accepts the following get parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">auto_resume</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">(none)</td>
<td>If provided, then attempt to get an existing recent chat where the given user can join, instead of creating a new chat. In addition, we will automatically (and atomically) create a <a title="Chat presences" href="#chat-presences">presence</a> for this user and chat. <strong>NOTE</strong>: The “private chats” setting affects the decision whether to create or resume a chat.</td>
</tr>
</tbody></table>

<p>Returns 201 status code when a new chat was created successfully.
Returns 200 if resumed an existing chat when <code class="prettyprint">auto_resume</code> parameter was provided.
Returns 403 if you have no permission to the room and you are not a manager.</p>

<p>This notifies the <a title="Socket API and channels" href="#socket-api">channels</a> of the chat, as well as appropriate channels of <a title="Chat presences" href="#chat-presences">chat presences</a> and <a title="Chat members" href="#chat-members">chat members</a>.</p>

<h2 id="chat-members">Chat members</h2>

<p>The visitor as well as each user who have sent at least one message to the chat is added as a &ldquo;member&rdquo; to the chat.</p>

<p>In contrast to the <a title="Chat presences" href="#chat-presences">chat presences</a>, chat <em>member</em> describes a person who has ever attended to the chat. They may not be currently present at the chat.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a>/string</td>
<td style="text-align: left">read-only</td>
<td>ID of the user or visitor being present at the chat.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">type</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Either <code class="prettyprint">visitor</code> or <code class="prettyprint">user</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>The name of the user/visitor as it would be displayed for the operator. For users this the actual name. For visitors this is any custom name, or <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">public_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>The name of the user/visitor as it would be displayed for the visitor. This is user&rsquo;s alias if they have one, otherwise it is their real name. For visitors, this is any custom username (e.g. set by API data) or <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">avatar</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>If the user/visitor has an avatar image, then this is is an object with <code class="prettyprint">id</code> and <code class="prettyprint">url</code> attributes. Otherwise this is <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chat_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the chat.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the user/visitor was added as a chat member.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the this membership was updated.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>How many messages the user/visitor has sent to the chat. This may be 0, e.g. when operator has joined the chat but has not sent any message yet.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_present</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left"><strong>required</strong></td>
<td>Whether or not the user/visitor is currently present at the chat.</td>
</tr>
</tbody></table>

<p>Changes to chat members are notified to the following <a title="Socket API and channels" href="#socket-api">channels</a>:</p>

<table><thead>
<tr>
<th>Channels</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/api/v5/client/visitors/&lt;visitor_id&gt;/chats/&lt;chat_id&gt;/members</code></td>
<td>For each visitor of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats/&lt;chat_id&gt;/members</code></td>
<td>For each user member of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/members</code></td>
<td>For the related room and each organization having access to that room</td>
</tr>
</tbody></table>

<p>In addition, chat members affect the following attributes of a <a title="Chats" href="#chats">chat</a>, notifying its channels:</p>

<ul>
<li><code class="prettyprint">member_count</code></li>
<li><code class="prettyprint">user_member_count</code></li>
<li><code class="prettyprint">visitor_member_count</code></li>
<li><code class="prettyprint">present_member_count</code></li>
<li><code class="prettyprint">present_user_member_count</code></li>
<li><code class="prettyprint">present_visitor_member_count</code></li>
</ul>

<h3 id="get-a-collection-of-chat-members">Get a collection of chat members</h3>
<pre class="highlight plaintext"><code>GET /api/v5/orgs/7f9e9580-095b-42c7-838c-c04e667b26f7/rooms/aad26fe2-c8f3-45dc-931b-4b0b5e06467d/chats/58f5055c-56e0-11e5-9354-6c4008c08dfe/members
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/7f9e9580-095b-42c7-838c-c04e667b26f7/chats/58f5055c-56e0-11e5-9354-6c4008c08dfe/members?cursor=45d9e7358e1249c491b4fa0212310f55"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"378ad5a0-bb89-481b-978b-4268b368cfef"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"public_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7f9cb877-0fd9-4c27-90b0-bd4c2842da3d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/avatar/5ef1a0ef-8b61-4473-8706-9669e30b47e6.jpg"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"chat_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58f5055c-56e0-11e5-9354-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:31:36.042"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3b90ef7c93484af4965a79ace7bc9a62"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visitor"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"public_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58f5055c-56e0-11e5-9354-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T12:14:34.154"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the members of the chat:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/members</code></p>

<p>Or alternatively:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats/&lt;chat_id&gt;/members</code></p>

<h3 id="join-a-user-to-a-chat">Join a user to a chat</h3>

<blockquote>
<p>Example request for joining a user to a chat</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /api/v5/orgs/39351090-2f16-49e0-ae14-96c9a3a721f2/rooms/adab695d-a648-42d6-b956-19efc1124e89/chats/62eb5cd5-5d52-4bb1-b711-ba31f864e775/members
</code></pre>

<blockquote>
<p>Example request payload</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce771dbe-afbf-4e58-bbcb-9855ecacee9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_present"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can add a user as a member to the chat by using the following endpoints.</p>

<aside class="info">
The <code>is_present</code> attribute of both visitors and operators is automatically set to <code>false</code> if the servers have not heard about them for a while, indicating that they have closed their browser tab or they have lost their connection. However, they will not be removed from the members.
</aside>

<p>If you are joining a user to a chat by a room, then use the following endpoint. It requires that you have a permission to the room. This can be used to join a chat that the user has not yet participated.</p>

<p><code class="prettyprint">POST /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/members</code></p>

<p>The request object must contain the <code class="prettyprint">id</code> attribute, which is the ID of the user being joined.</p>

<p>Also, by providing a <code class="prettyprint">is_present</code> attribute with value <code class="prettyprint">true</code> you can make the user to be currently present at the chat.</p>

<p>Alternatively, you may use this endpoint:</p>

<p><code class="prettyprint">PUT /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/members/&lt;user_id&gt;</code></p>

<p>In this case you do not have to provide the <code class="prettyprint">id</code> attribute.</p>

<p>Returns 201 if the user was added to the chat members.
Returns 200 if the user was already a chat member.
Returns 400 if the user cannot be joined to the chat or their presence cannot be updated.</p>

<aside class="info">
If the <code>is_present</code> attribute was set to <code>true</code> and the related chat was previously in waiting state, then <code>is_waiting</code> of the chat is automatically changed to <code>false</code>.
</aside>

<p>These endpoints accept the following URL parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">exclusive</code></td>
<td style="text-align: left"><code class="prettyprint">true</code>/<code class="prettyprint">false</code></td>
<td style="text-align: left"><code class="prettyprint">false</code></td>
<td>This has effect only, if you are setting <code class="prettyprint">is_present</code> with value <code class="prettyprint">true</code>. This makes the join fail with 400 if there is already <strong>at least one other user currently present</strong> at the chat.</td>
</tr>
</tbody></table>

<aside class="success">
Use the `exclusive` parameter to prevent multiple operators taking the chat simultaneously.
</aside>

<p>This request sends notifications to the <a title="Socket API and channels" href="#socket-api">channels</a> of the chat presences as well as the related chat.</p>

<h3 id="change-operator-chat-presence">Change operator chat presence</h3>

<blockquote>
<p>Example request for making the operator not to be present any more at the chat</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT /api/v5/orgs/39351090-2f16-49e0-ae14-96c9a3a721f2/rooms/adab695d-a648-42d6-b956-19efc1124e89/chats/62eb5cd5-5d52-4bb1-b711-ba31f864e775/members/ce771dbe-afbf-4e58-bbcb-9855ecacee9a
</code></pre>

<blockquote>
<p>Example request payload</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"is_present"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can make a user present or not present at a chat like described in the previous section:</p>

<p><code class="prettyprint">PUT /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/members/&lt;user_id&gt;</code></p>

<p>You should provide the <code class="prettyprint">is_present</code> attribute with either <code class="prettyprint">true</code> or <code class="prettyprint">false</code> value, indicating whether or not the user should be currently present at the chat.</p>

<p>The parameters and response codes are the same than described in the previous section.</p>

<h2 id="chat-messages">Chat messages</h2>

<p>Chat consists of a number of messages. Some of them are actual typed messages from either operator or visitor, and some of them are automatically added events about the chat, especially when an operator has <a title="Chat presences" href="#chat-presences">joined or leaved</a> the chat.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>Unique identifier for the message</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">type</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Whether the message is an actual message (<code class="prettyprint">msg</code>), autosuggest (<code class="prettyprint">autosuggest</code>), a join event (<code class="prettyprint">join</code>) or a leave event (<code class="prettyprint">leave</code>). When POSTing a message, this will automatically be set to <code class="prettyprint">msg</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>read-only</td>
<td>When the message was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_type</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>Whether the sender is operator (<code class="prettyprint">user</code>) or visitor (<code class="prettyprint">visitor</code>). When POSTing a new message with these endpoints, this will automatically be set to <code class="prettyprint">user</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a>/string</td>
<td>read-only</td>
<td>Identifier for the sender. If the sender is a user, then this is the user&rsquo;s ID. Otherwise this is an unique string for the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_public_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>A display name for the sender as the visitor would see him.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_name</code></td>
<td style="text-align: left">string</td>
<td>read-only</td>
<td>A display name for the sender as an operator would see him.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sender_avatar</code></td>
<td style="text-align: left">object</td>
<td>read-only</td>
<td>If the sender has an avatar image, then this is an object with <code class="prettyprint">id</code> and <code class="prettyprint">url</code> attributes. Otherwise this is <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td><strong>required</strong></td>
<td>Content text of the message. The maximum length is 2000 characters.</td>
</tr>
</tbody></table>

<p>Any changes to chat messages are notified to the following <a title="Socket API and channels" href="#socket-api">channels</a>:</p>

<table><thead>
<tr>
<th>Channel</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/api/v5/client/visitors/&lt;visitor_id&gt;/chats/&lt;chat_id&gt;/messages</code></td>
<td>For each visitor of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats/&lt;chat_id&gt;/messages</code></td>
<td>For each member and currently present user of the chat</td>
</tr>
<tr>
<td><code class="prettyprint">/api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/messages</code></td>
<td>For the chat parent room chat collection and each organization having access to that room</td>
</tr>
</tbody></table>

<p>In addition, sending chat messages affect the following attributes of a <a title="Chats" href="#chats">chat</a>, which notifies the channels of the chat.</p>

<ul>
<li><code class="prettyprint">message_count</code></li>
<li><code class="prettyprint">user_message_count</code></li>
<li><code class="prettyprint">visitor_message_count</code></li>
<li><code class="prettyprint">is_waiting</code></li>
</ul>

<p>In addition, sending chat messages affect the following attributes of a <a title="Chat members" href="#chat-members">chat member</a>, notifying its related channels.</p>

<ul>
<li><code class="prettyprint">message_count</code></li>
</ul>

<h3 id="list-chat-messages">List chat messages</h3>
<pre class="highlight plaintext"><code>GET /api/v5/orgs/54de4830-a16e-417a-802b-4bf4bcb59ed8/rooms/d3b4ea93-c32c-4910-a114-c9d145e1c591/chats/450fc49e-277e-4dd6-af0f-6e9dcb885b09/messages
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/54de4830-a16e-417a-802b-4bf4bcb59ed8/chats/450fc49e-277e-4dd6-af0f-6e9dcb885b09/messages?cursor=171cfd0d7ce542be86221f01d2823cb1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8a94b3f1-d8a9-4530-b1f1-b757a8a57078"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autosuggest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:30:03.045"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c94ae79-a4b4-4eea-ac23-24c16f910080"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_public_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How may I help you?"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58f5055c-56e0-11e5-9354-6c4008c08dfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"msg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:31:36.042"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visitor"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f7a5a3b83d2e40dfb0dedd6c0e284214"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_public_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes, actually you could."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3a3b8ed-7336-431a-8350-8f5be471a09e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"join"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:31:38.123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c94ae79-a4b4-4eea-ac23-24c16f910080"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_public_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"487a4dce-503a-43d0-bd62-1e1a7582c93b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"msg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T11:32:01.654"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c94ae79-a4b4-4eea-ac23-24c16f910080"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_public_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK, what do you want to know?"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the collection of all chat messages in the given chat.</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/rooms/&lt;room_id&gt;/chats/&lt;chat_id&gt;/messages</code></p>

<p>Or alternatively:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats/&lt;chat_id&gt;/messages</code></p>

<p>The response is a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>, ordered by the creation date in descending order.</p>

<h3 id="send-a-chat-message">Send a chat message</h3>
<pre class="highlight plaintext"><code>POST /api/v5/orgs/b2bf5dba-055c-4ac6-a83c-7f85a1f60db9/users/7c94ae79-a4b4-4eea-ac23-24c16f910080/chats/9d25ef9d-26ed-40e8-8d74-a6a17039195d/messages
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK, I've found out the issue!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Send a new chat message to a user&rsquo;s chat with type <code class="prettyprint">msg</code> to a chat:</p>

<p><code class="prettyprint">POST /api/v5/orgs/&lt;organization_id&gt;/users/&lt;user_id&gt;/chats/&lt;chat_id&gt;/messages</code></p>

<p>The <code class="prettyprint">&lt;user_id&gt;</code> will be set as the sender of the message. If the sender is not yet added as a member of this chat, then a new <a title="Chat members" href="#chat-members">member</a> is automatically created.</p>

<aside class="warning">
The user must be a member of the chat in order to send a message. Otherwise a 404 response is returned, as the chat was not found in the chats of the user.
</aside>

<p>If the chat was previously in waiting state, then <code class="prettyprint">is_waiting</code> of the chat is automatically changed to <code class="prettyprint">false</code>.</p>

<p>This notifies any channels of chat messages, as well as channels of the related <a title="Chats" href="#chats">chat</a> and <a title="Chat members" href="#chat-members">chat members</a> accordingly.</p>

          <h1 id="partnership-api">Partnership API</h1>

<h2 id="outgoing-partnership-invitations">Outgoing partnership invitations</h2>

<p>You may build your giosg NETWORK by inviting them. This is done with invitation objects. When sending and managing invitations from your organization account to your partners, we use <strong>outgoing invitations</strong>. An outgoing invitation object has the following attributes:</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier of this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">status</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>Status of the invitation, with the following possible values: <code class="prettyprint">0</code>= Pending, <code class="prettyprint">1</code>= Accepted by the received, <code class="prettyprint">2</code>= Rejected by the received</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>A valid email address to which the invitation will be sent. Must be set on creation and cannot be changed later.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Message to be sent with the invitation to your partner. May only be set on creation.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_display_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>A display name that will be set to the new partner when they accept the invitation and the partnership is created. The display name is visible to your organization members. May be <code class="prettyprint">null</code>, in which case the partner will be shown with their original name.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_visibility</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>This must be either <code class="prettyprint">organization</code> (the partner will become visible to all your organization members) or <code class="prettyprint">management</code> (visible only to your organization managers)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>You may <strong>share rooms</strong> to your partner when they accept your invitation. This should be an array of objects similar to <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> objects. On creation, the objects may contain attributes <code class="prettyprint">room_id</code> and <code class="prettyprint">share_name</code>. In responses these objects contain the attributes <code class="prettyprint">room_id</code>, <code class="prettyprint">room</code>, and <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>You may <strong>share teams</strong> to your partner when they accept your invitation. This should be an array of objects similar to <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> objects. On creation, the objects may contain attributes <code class="prettyprint">team_id</code> and <code class="prettyprint">share_name</code>. In responses these objects contain the attributes <code class="prettyprint">team_id</code>, <code class="prettyprint">team</code>, and <code class="prettyprint">share_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who sent this invitation, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> resource who sent this invitation, with all other attributes except <code class="prettyprint">organization</code> and <code class="prettyprint">organization_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was accepted or rejected, <code class="prettyprint">null</code> if still pending</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partnership_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the <a title="Partnerships" href="#partnerships">partnership</a> of the partner who accepted this invitation, or <code class="prettyprint">null</code> if not accepted</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_new_partnership</code></td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">read-only</td>
<td>This is <code class="prettyprint">true</code> if the invitation was accepted by a new partner, <code class="prettyprint">false</code> if it was accepted by an existing partner, or <code class="prettyprint">null</code> if not yet accepted.</td>
</tr>
</tbody></table>

<p>If your invitation is accepted by an existing partner, then any shared teams or rooms are added to that partner. No existing shares are removed in this case.</p>

<h3 id="send-an-invitation">Send an invitation</h3>

<p>You may send an invitation to your partner&rsquo;s email address by creating a new <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> object.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/outgoing_invitations</code></p>

<h3 id="cancel-an-outgoing-invitation">Cancel an outgoing invitation</h3>

<p>You may cancel a partnership invitation before it is accepted or rejected, by a given ID.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/outgoing_invitations/&lt;invitation_id&gt;</code></p>

<p>The endpoint returns a 404 status code if the invitation is not found or if you are not authenticated as the sender of this invitation or if the invitation has already been cancelled.</p>

<p>The endpoint returns a 403 status code if the invitation has already been accepted or rejected.</p>

<h3 id="retrieve-outgoing-invitation-details">Retrieve outgoing invitation details</h3>

<p>Get a single <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> object sent by your organization, by a given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/outgoing_invitations/&lt;invitation_id&gt;</code></p>

<h3 id="get-a-collection-of-outgoing-invitations">Get a collection of outgoing invitations</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all sent <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">outgoing invitation</a> objects.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/outgoing_invitations</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> or <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>integer</td>
<td>(none)</td>
<td>Filter the results by the <code class="prettyprint">status</code> attribute</td>
</tr>
</tbody></table>

<h2 id="incoming-partnership-invitations">Incoming partnership invitations</h2>

<p>When you are a receiving party of a partnership invitation then you handle the invitation objects as <strong>incoming partnership invitations</strong>. An incoming invitation has the following attributes:</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">key</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Unique key for this invitation. You need to use this to identify <em>incoming</em> invitations.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>Unique identifier of this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">status</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">read-only</td>
<td>Status of the invitation, with the following possible values: <code class="prettyprint">0</code>= Pending, <code class="prettyprint">1</code>= Accepted by the received, <code class="prettyprint">2</code>= Rejected by the received</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>The email address to which this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">message</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">read-only</td>
<td>Message to be sent with the invitation to your partner.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The rooms that will be shared when the invitation is accepted. An array where each item has the following attributes of an <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> objects: <code class="prettyprint">room_id</code> and <code class="prettyprint">room</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team_shares</code></td>
<td style="text-align: left">array of objects</td>
<td style="text-align: left">read-only</td>
<td>The teams that will be shared when the invitation is accepted. An array where each item has the following attributes of an <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> object: <code class="prettyprint">team_id</code> and <code class="prettyprint">team</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was sent</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> who sent this invitation, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who sent this invitation</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who sent this invitation, with all other attributes except <code class="prettyprint">organization</code> and <code class="prettyprint">organization_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When this invitation was accepted or rejected, <code class="prettyprint">null</code> if still pending</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> resource who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">resolved_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> who accepted/rejected this invitation, or <code class="prettyprint">null</code> if still pending or unknown</td>
</tr>
</tbody></table>

<h3 id="retrieve-incoming-invitation-details">Retrieve incoming invitation details</h3>

<p>Retrieve a <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource by its <strong>invitation key</strong>. Incoming invitations are identified by their automatically generated, random key strings, instead of integer IDs.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;</code></p>

<h3 id="get-a-collection-of-incoming-invitations">Get a collection of incoming invitations</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all received <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> objects. This endpoint returns invitations accepted or rejected by your organization. It also returns those invitations that are sent to one of your organization&rsquo;s email address. <strong>NOTE</strong> that the organization who sends the invitation does not know if this email address actually exists in giosg system.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/incoming_invitations</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code>, <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>integer</td>
<td>(none)</td>
<td>Filter the results by the <code class="prettyprint">status</code> attribute</td>
</tr>
</tbody></table>

<h3 id="accept-an-incoming-invitation">Accept an incoming invitation</h3>

<p>You need to accept an invitation to become partners with the sender. In order to accept the invitation, you need the invitation key.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;/accept</code></p>

<p>As soon as you accept the invitation, the partnership will be created. Also, any shared rooms and teams will become available to your organization.</p>

<p>You should send an object as a payload with the following attributes, matching the attributes on a <a title="Partnerships" href="#partnerships">partnership</a> resource. They may be omitted, see below.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">display_name</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>A display name that will be set to the newly created partner. The display name is visible to your organization members. May be <code class="prettyprint">null</code>, in which case the partner will be shown with their original name.</td>
</tr>
<tr>
<td><code class="prettyprint">visibility</code></td>
<td>string</td>
<td><strong>required</strong></td>
<td>This must be either <code class="prettyprint">organization</code> (the partner will become visible to all your organization members) or <code class="prettyprint">management</code> (visible only to your organization managers)</td>
</tr>
</tbody></table>

<p>It is possible to accept an invitation from an existing partner. In this case, no new partnership is created. The <code class="prettyprint">display_name</code> and <code class="prettyprint">visibility</code> will overwrite the corresponding attributes of the existing <a title="Partnerships" href="#partnerships">partnership</a> resource, <strong>unless they are omitted</strong>, in which case the old values are preserved.</p>

<p>If you are accepting the invitation with <a title="Incoming room shares" href="#incoming-room-shares">shared rooms</a> or <a title="Incoming team shares" href="#incoming-team-shares">teams</a> from an existing partner, then the rooms and teams will become available to you.</p>

<p>After accepting an invitation, its status will become <code class="prettyprint">1</code>.</p>

<p>The request will result in 404 response if the invitation was not found, has been cancelled, or has already been accepted/rejected by some other organization. The request will result in 403 response if the invitation has already been accepted or rejected by your organization, or if you are not allowed to accept/reject the invitation, e.g. you are the original creator of this invitation.</p>

<p>A successful response will result in the updated <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource.</p>

<h3 id="reject-an-invitation">Reject an invitation</h3>

<p>You may reject an invitation by its invitation key.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/incoming_invitations/&lt;invitation_key&gt;/reject</code></p>

<p>No request payload is required. After rejecting an invitation, its status will become <code class="prettyprint">2</code>.</p>

<p>The request will result in 404 response if the invitation was not found, has been cancelled, or has already been accepted/rejected by some other organization. The request will result in 403 response if the invitation has already been accepted or rejected by your organization, or if you are not allowed to accept/reject the invitation, e.g. you are the original creator of this invitation.</p>

<p>A successful response will result in the updated <a title="Incoming partnership invitations" href="#incoming-partnership-invitations">incoming invitation</a> resource.</p>

<h2 id="partnerships">Partnerships</h2>

<p>A partnership object describes a connection between your organization and one of your partner organizations. Partnerships can only be created with <a title="Outgoing partnership invitations" href="#outgoing-partnership-invitations">partnership invitation</a> resources.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the partner organization</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">partner_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The partner <a title="Organizations" href="#organizations">organization</a> resource, with all of its available attributes</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of your organization, for convenience (matching the <code class="prettyprint">&lt;organization_id&gt;</code> in the URL)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">dislay_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Name that is shown to your organization members for this partner. May be <code class="prettyprint">null</code>, in which case the original name is shown</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">visibility</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>required</strong></td>
<td>If <code class="prettyprint">organization</code> then the partner is visible to all your organization members. If <code class="prettyprint">management</code>, it is visible only to your organization managers</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When you became partners</td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-partnerships">Get a collection of partnerships</h3>

<p>Get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the known partnerships.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships</code></p>

<p>This end-point accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> and <code class="prettyprint">-created_at</code></td>
</tr>
</tbody></table>

<h3 id="retrieve-partnership-details">Retrieve partnership details</h3>

<p>Retrieve a single <a title="Partnerships" href="#partnerships">partnership</a> resource for your organization (<code class="prettyprint">&lt;organization_id&gt;</code>) by the partner organization&rsquo;s ID (<code class="prettyprint">&lt;partner_organization_id&gt;</code>).</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<h3 id="remove-a-partnership">Remove a partnership</h3>

<aside class="warning">
<strong>WARNING!</strong>
This will immediately remove the organization from your partners and remove your partner&rsquo;s access to your shared resources. You cannot undo this action! You need to invite your partner again and re-share all your rooms/teams and re-set any permissions.
</aside>

<p>Being aware of this, you may remove another organization (<code class="prettyprint">&lt;partner_organization_id&gt;</code>) from your organization&rsquo;s (<code class="prettyprint">&lt;organization_id&gt;</code>) partners.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<h3 id="update-a-partnership">Update a partnership</h3>

<p>You may update the editable attributes of a partnership for your organization (<code class="prettyprint">&lt;organization_id&gt;</code>) by the given partner organization&rsquo;s ID (<code class="prettyprint">&lt;partner_organization_id&gt;</code>).</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/partnerships/&lt;partner_organization_id&gt;</code></p>

<p>When using <code class="prettyprint">PUT</code> you need to provide an object as a request payload that contains the changed attributes of the <a title="Partnerships" href="#partnerships">partnership</a>. When using <code class="prettyprint">PATCH</code>, you may omit those attributes that you do not want to change.</p>

          <h1 id="sharing-api">Sharing API</h1>

<p>Once you have become partners, you may share resources to your partner organization. Shared resources are represented by <strong>share resources</strong>. Currently there are two types of shares:</p>

<ul>
<li><strong>Room shares</strong>

<ul>
<li><a title="Outgoing room shares" href="#outgoing-room-shares">Outgoing room share</a></li>
<li><a title="Incoming room shares" href="#incoming-room-shares">Incoming room share</a></li>
</ul></li>
<li><strong>Team shares</strong>

<ul>
<li><a title="Outgoing team shares" href="#outgoing-team-shares">Outgoing team share</a></li>
<li><a title="Incoming team shares" href="#incoming-team-shares">Incoming team share</a></li>
</ul></li>
</ul>

<p>Additionally, each type of share are represented as either outgoing or incoming share, depending on whether you are the sharing or the receiving party.</p>

<h2 id="outgoing-shares">Outgoing shares</h2>

<p>Each <strong>outgoing share</strong> resource has the following attributes, regardless of the type of resource that is being shared.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the partner organization to whom the resource is shared. <strong>Must be an existing partner. Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object to whom the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">share_name</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"><strong>optional</strong></td>
<td>Name that is shown to the receiver as a display name for this resource. If <code class="prettyprint">null</code>, the original name is displayed. This may be updated later.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object who shared the resource, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the user who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_by_user</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Users" href="#users">user</a> resource who shared the resource, with all of the available attributes</td>
</tr>
</tbody></table>

<p>By default, resources are shared with their original names. However, these are usually for your organization&rsquo;s internal use, and you may want to display the resource with more descriptive name to your partners. In this case, you may want to define the <code class="prettyprint">share_name</code> attribute.</p>

<h3 id="outgoing-room-shares">Outgoing room shares</h3>

<p>Your organization may share rooms to their partners by creating outgoing room share resources that extend <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resources. Additionally, an outgoing room share object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the room to be shared. <strong>Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Rooms and domains" href="#rooms-and-domains">room</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="outgoing-team-shares">Outgoing team shares</h3>

<p>Your organization may share teams to their partners by creating outgoing team share resources that extend <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resources. Additionally, an outgoing team share object has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left"><strong>required</strong></td>
<td>ID of the team to be shared. <strong>Cannot be changed after creation.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Teams" href="#teams">team</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="share-a-resource">Share a resource</h3>

<p>You may share a resource to one of your partners by making a <code class="prettyprint">POST</code> request.</p>

<p><code class="prettyprint">POST https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. You may only share resources that you own or are being shared to your organization. You need to provide the required attributes of an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> as well as desired optional attributes as a payload.</p>

<p>The API returns an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> as a response.</p>

<h3 id="retrieve-outgoing-share-details">Retrieve outgoing share details</h3>

<p>Returns an <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or an <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> resource by the given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. Results in 404 response if you have no access to the share.</p>

<h3 id="unshare-a-resource">Unshare a resource</h3>

<p>You may decide not to share a resource any more to the specific partner. In this case, you may delete the <a title="Outgoing shares" href="#outgoing-shares">outgoing share</a> resource.</p>

<p><code class="prettyprint">DELETE https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<h3 id="get-a-collection-of-outgoing-shares">Get a collection of outgoing shares</h3>

<p>You may get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Outgoing room shares" href="#outgoing-room-shares">outgoing room share</a> or <a title="Outgoing team shares" href="#outgoing-team-shares">outgoing team share</a> resources that your organization has created.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options: <code class="prettyprint">created_at</code> or <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">receiver_organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Filter the results by a receiving partner organization ID</td>
</tr>
</tbody></table>

<h3 id="update-an-outgoing-share">Update an outgoing share</h3>

<p>Once a resource share is created, you cannot change its resource, partnership or other relations. If you shared a wrong resource or to a wrong partner, you need to delete the share and create a new one. You may still update a resource share resource, specifically its <code class="prettyprint">share_name</code>, by making a <code class="prettyprint">PUT</code> or <code class="prettyprint">PATCH</code> request:</p>

<p><code class="prettyprint">PUT https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p><code class="prettyprint">PATCH https://service.giosg.com/api/v5/orgs/&lt;sharer_organization_id&gt;/outgoing_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>.</p>

<h2 id="incoming-shares">Incoming shares</h2>

<p>Each <strong>incoming share</strong> resource has the following attributes, regardless of the type of resource that is being shared.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left">read-only</td>
<td>When the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization who shared the resource</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">sharer_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object who shared the resource, with all of its attributes.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the organization to whom the resource was shared</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">receiver_organization</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Organizations" href="#organizations">organization</a> object to whon the resource was shared</td>
</tr>
</tbody></table>

<h3 id="incoming-room-shares">Incoming room shares</h3>

<p>If you are a receiving party of a shared room, then you use the room share objects as <strong>incoming room shares</strong> that extend the <a title="Incoming shares" href="#incoming-shares">incoming share</a> resource. Additionally, an incoming room share has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the shared room</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">room</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Rooms and domains" href="#rooms-and-domains">room</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="incoming-team-shares">Incoming team shares</h3>

<p>If you are a receiving party of a shared team, then you use the team share objects as <strong>incoming team shares</strong> that extend the <a title="Incoming shares" href="#incoming-shares">incoming share</a> resource. Additionally, an incoming team share has the following attributes.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">team_id</code></td>
<td style="text-align: left"><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td style="text-align: left">read-only</td>
<td>ID of the shared team</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">team</code></td>
<td style="text-align: left">object</td>
<td style="text-align: left">read-only</td>
<td>The <a title="Teams" href="#teams">team</a> resource that has been shared</td>
</tr>
</tbody></table>

<h3 id="get-a-collection-of-incoming-shares">Get a collection of incoming shares</h3>

<p>You may get a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of all the <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> or <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> resources that are shared to your organization.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;receiver_organization_id&gt;/incoming_shares/&lt;resource_type&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>. This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> and <code class="prettyprint">-created_at</code></td>
</tr>
<tr>
<td><code class="prettyprint">sharer_organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>(none)</td>
<td>Filter the results by a receiving partner organization ID</td>
</tr>
</tbody></table>

<h3 id="retrieve-incoming-share-details">Retrieve incoming share details</h3>

<p>Returns an <a title="Incoming room shares" href="#incoming-room-shares">incoming room share</a> or <a title="Incoming team shares" href="#incoming-team-shares">incoming team share</a> resource by the given ID.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;receiver_organization_id&gt;/incoming_shares/&lt;resource_type&gt;/&lt;resource_id&gt;</code></p>

<p>The <code class="prettyprint">&lt;resource_type&gt;</code> must be either <code class="prettyprint">rooms</code> or <code class="prettyprint">teams</code>.</p>

          <h1 id="assets-api">Assets API</h1>

<h2 id="assets">Assets</h2>

<p>Assets are files that you can upload to giosg system and that are publicly available. They are useful to hosts resources for you custom customized giosg products or your website components!</p>

<p>Even though asset contents are publicly available, they can only be accessed with an URL. In other words, only your organization members are able to see the list of your organization assets. When the asset is used somewhere, e.g. on your custom chat dialog or your website, anyone is (and need to be) able to download its contents and see its public attributes.</p>

<p>An asset resource has the following attributes.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td><a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> string identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td><strong>required</strong></td>
<td>Short, human-readable name.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Human-readable description</td>
</tr>
<tr>
<td><code class="prettyprint">organization_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the owner organization</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code></td>
<td>object</td>
<td>read-only</td>
<td>The owner organization resource</td>
</tr>
<tr>
<td><code class="prettyprint">file_name</code></td>
<td>string</td>
<td>read-only</td>
<td>The original file name of the uploaded file</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>string</td>
<td>read-only</td>
<td>The full URL for original, uploaded file. <strong>Use this URL to link to your asset!</strong></td>
</tr>
<tr>
<td><code class="prettyprint">size</code></td>
<td>integer</td>
<td>read-only</td>
<td>Size of the uploaded file in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">content_type</code></td>
<td>string</td>
<td>read-only</td>
<td><a title="Internet Media Type" href="https://en.wikipedia.org/wiki/Internet_media_type">Content type</a> of the uploaded file, e.g. <code class="prettyprint">image/jpeg</code> (or <code class="prettyprint">null</code> if unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">kind</code></td>
<td>string</td>
<td>read-only</td>
<td>What kind of file the asset is: <code class="prettyprint">&quot;image&quot;</code>, <code class="prettyprint">&quot;css&quot;</code>, <code class="prettyprint">&quot;javascript&quot;</code>, <code class="prettyprint">&quot;font&quot;</code> or <code class="prettyprint">null</code> (unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">charset</code></td>
<td>string</td>
<td>read-only</td>
<td>Character encoding for a text file, e.g. <code class="prettyprint">UTF-8</code> (or <code class="prettyprint">null</code> if binary or unknown)</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>date/time</td>
<td>read-only</td>
<td>When the asset was created</td>
</tr>
<tr>
<td><code class="prettyprint">created_by_user_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the person who created this asset</td>
</tr>
<tr>
<td><code class="prettyprint">created_by_user</code></td>
<td>object</td>
<td>read-only</td>
<td>The person resource who created this asset</td>
</tr>
<tr>
<td><code class="prettyprint">updated_at</code></td>
<td>date/time</td>
<td>read-only</td>
<td>When the asset name or description was last time updated</td>
</tr>
<tr>
<td><code class="prettyprint">updated_by_user_id</code></td>
<td><a title="Resource identifiers" href="#resource-identifiers">ID</a></td>
<td>read-only</td>
<td>The ID of the person who last time updated this asset</td>
</tr>
<tr>
<td><code class="prettyprint">updated_by_user</code></td>
<td>object</td>
<td>read-only</td>
<td>The person resource who last time updated this asset</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>integer</td>
<td>read-only</td>
<td>The width of an image in pixels. Available for images only. It is <code class="prettyprint">null</code> for other assets.</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>integer</td>
<td>read-only</td>
<td>The height of an image in pixels. Available for images only. It is <code class="prettyprint">null</code> for other assets.</td>
</tr>
</tbody></table>

<h3 id="upload-a-new-asset">Upload a new asset</h3>

<p>Upload a file creating a new asset for a organization.</p>

<p><code class="prettyprint">POST /api/v5/orgs/&lt;organization_id&gt;/assets</code></p>

<aside class="warning">
<strong>IMPORTANT!</strong> In contrast to the all other API endpoints, this only accepts <code>multipart/form-data</code> requests, because you need to upload a file with the request. The request payload takes the following attributes.
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Editable</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">upload</code></td>
<td>file</td>
<td><strong>required</strong></td>
<td>The asset file to be uploaded. File name is required.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Name for the newly created asset. If omitted, defaults to the file name. Otherwise, it must be a non-empty string value.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td><strong>optional</strong></td>
<td>Description for this asset.</td>
</tr>
</tbody></table>

<p>This endpoint returns an <a title="Assets" href="#assets">asset</a> resource. It results in a 400 response if the upload would exceed your organization&rsquo;s free asset storage space.</p>

<h3 id="list-assets">List assets</h3>

<p>Get a paginated collection of all the assets of your organization:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/assets</code></p>

<p>The endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ordering</code></td>
<td><a title="Ordering collections" href="#ordering-collections">ordering</a></td>
<td><code class="prettyprint">created_at</code></td>
<td>Ordering of results with options <code class="prettyprint">created_at</code> or <code class="prettyprint">-created_at</code></td>
</tr>
</tbody></table>

<h3 id="retrieve-a-single-asset">Retrieve a single asset</h3>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="update-an-asset">Update an asset</h3>

<p>You may update the <code class="prettyprint">name</code> and/or <code class="prettyprint">description</code> attributes of an asset.</p>

<p><code class="prettyprint">PUT /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<p><code class="prettyprint">PATCH /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="delete-an-asset">Delete an asset</h3>

<p>You may delete your assets. Their size is freed for new asset uploads.</p>

<p><code class="prettyprint">DELETE /api/v5/orgs/&lt;organization_id&gt;/assets/&lt;asset_id&gt;</code></p>

<h3 id="retrieve-organization-39-s-storage-information">Retrieve organization&rsquo;s storage information</h3>

<p>You may check your organization&rsquo;s current asset storage space usage:</p>

<p><code class="prettyprint">GET /api/v5/orgs/&lt;organization_id&gt;/quota</code></p>

<p>This returns an object with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">free_space</code></td>
<td>integer</td>
<td>Total free space for new assets, in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">usage</code></td>
<td>integer</td>
<td>Sum of all your organization asset sizes, in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">limit</code></td>
<td>The maximun allowed sum of your organization asset sizes, in bytes</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="time-series-reporting-api">Time Series Reporting API</h1>

<h2 id="general-time-series-usage">General time series usage</h2>

<p>All the API endpoints described in this section require some GET parameters defining the time range and stats aggregation interval. You may also define define optional GET parameters to localize and filter the results. The optional GET parameters are described per API endpoint.</p>

<p>The following table describes the GET parameters accepted by all of the reporting stats API endpoints.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Only return statistics after this moment (inclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">end_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Only return statistics before this moment (exclusive)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">timezone</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left">UTC</td>
<td>A <a title="List of timezones" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">timezone</a> in which params and results are expressed.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">utc_offset</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>An alternative to the <code class="prettyprint">timezone</code> parameter: the timezone expressed in static UTC offset, in hours.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">time_interval</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td><strong>Required.</strong> Get results by selected time interval. Allowed values are <code class="prettyprint">15min</code>, <code class="prettyprint">1h</code>, <code class="prettyprint">1d</code>.</td>
</tr>
</tbody></table>

<p>The chosen start and end date/time should be divisible by the chosen time interval. For example, if time interval is <code class="prettyprint">1d</code> then the time part of a start/end date should be exactly <code class="prettyprint">00:00:00</code>. For example: <code class="prettyprint">201502-10T00:00:00</code>. On the other hand, if time interval is <code class="prettyprint">1h</code>, then the hour part can be anything but the minutes and seconds must be <code class="prettyprint">00</code>. Also, if the time interval is <code class="prettyprint">15min</code>, then the minutes part must be either <code class="prettyprint">00</code>, <code class="prettyprint">15</code>, <code class="prettyprint">30</code> or <code class="prettyprint">45</code>.</p>

<p>Please note that end time is exclusive, that is, the time slot that starts exactly on that moment is <strong>not</strong> included in the final results. Therefore, in order to get daily stats for 2015-03-05 and 2015-03-06, you should define the start time as <code class="prettyprint">2015-03-05T00:00:00</code> and end time as <code class="prettyprint">2015-03-07T00:00:00</code> (the beginning of the next day).</p>

<p>The optional <code class="prettyprint">timezone</code> parameter may be provided as one of the <a title="List of timezones" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">tz database timezone names</a>. This timezone describes the &ldquo;local time&rdquo; on which the API operates. For example: <code class="prettyprint">timezone=Europe%2FHelsinki</code> would indicate timezone <code class="prettyprint">Europe/Helsinki</code>.</p>

<p>You may alternatively use <code class="prettyprint">utc_offset</code> parameter which, if provided, must start with either <code class="prettyprint">+</code> or <code class="prettyprint">-</code> and have two digit offset hour (zero-padded). This describes the offset from the UTC time, in full hours. If timezone or UTC offset is omitted, they default to the UTC time. An example parameter would be: <code class="prettyprint">utc_offset=+02</code></p>

<p>If a local time is defined, with either <code class="prettyprint">timezone</code> or <code class="prettyprint">utc_offset</code>, the given <code class="prettyprint">start_time</code> and <code class="prettyprint">end_time</code> are supposed to be expressed in this &ldquo;local time&rdquo;. Otherwise, we assume that times are in UTC.</p>

<p>Defining a local time is especially important if you are aggregating daily statistics, i.e. <code class="prettyprint">time_interval</code> is <code class="prettyprint">1d</code>. The timezone is used to determine when each day starts and ends.</p>

<p>Every time series endpoint returns a JSON object with an item <code class="prettyprint">results</code>, containing an array of aggregated timeslot objects. Each object has the attributes described by the following table. The items are in their time order. There will be a time slot for each time interval in the defined range, even if all the numbers would be zeros.</p>

<p>See the following sections for details.</p>

<h2 id="time-series-range-limitations">Time series range limitations</h2>

<p>The selected time interval defines the maximum time range between the start and end time. Also, the chosen time interval determines how far in the past the start time can be. These restrictions are described in the following table:</p>

<table><thead>
<tr>
<th>Time interval</th>
<th>Max. time range</th>
<th>Oldest possible start time</th>
</tr>
</thead><tbody>
<tr>
<td><strong>1d</strong></td>
<td>100 days</td>
<td>(No limit)</td>
</tr>
<tr>
<td><strong>1h</strong></td>
<td>7 days (168h)</td>
<td>Any of last 140 days</td>
</tr>
<tr>
<td><strong>15min</strong></td>
<td>3 days (72h)</td>
<td>Any of last 33 days</td>
</tr>
</tbody></table>

<p>If the time range is longer than the maximum allowed range, or starts too early, then the server responds with <code class="prettyprint">400 Bad Request</code> error response.</p>

<h2 id="visitor-statistics-time-series">Visitor statistics time series</h2>

<p>You can get the time-based aggregated visitor statistics by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/visitorstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the visitor stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T17:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">130</span><span class="p">,</span><span class="w">
      </span><span class="nt">"desktop_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tablet_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone is defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Total number of unique visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">desktop_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique desktop computer visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">mobile_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique mobile phone visitors on this timeslot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tablet_visitors</code></td>
<td style="text-align: left">integer</td>
<td>Number of unique tablet visitors on this timeslot</td>
</tr>
</tbody></table>

<h2 id="chat-statistics-time-series">Chat statistics time series</h2>

<p>You can get the time-based aggregated chat statistics by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the chat stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tag</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for chats that has been tagged with the given string. Can be given multiple times, when chat is included if it has any of the tags.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">min_message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">0</td>
<td>Only statistics for chats with at least this number of total messages, by either visitor or operator, excluding autosuggest messages.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_ended</code></td>
<td style="text-align: left">true/false/none</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>, then only include chats that have actually ended. If <code class="prettyprint">false</code>, only include chats that have not been ended yet. If omitted or empty string, then do not filter.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.05</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">163.084</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">92.863</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left">integer</td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, eg. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">real_chats</code></td>
<td style="text-align: left">integer</td>
<td>Total number of chats that are real conversations</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_chats</code></td>
<td style="text-align: left">integer</td>
<td>Total number of chats on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_autosuggest</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started from autosuggest of this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_autosuggests</code></td>
<td style="text-align: left">integer</td>
<td>Total number of sent autosuggests (may or may not have started a chat</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">missed_chats</code></td>
<td style="text-align: left">integer</td>
<td>Chats missed by operators</td>
</tr>
</tbody></table>

<aside class="warning">
The following wait time stats are available only for chat sessions started on 2015-03-02 and later! For earlier stats, they are null.
</aside>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">average_wait_time</code></td>
<td style="text-align: left">integer</td>
<td>Average waiting time in seconds, or null if not available</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">max_wait_time</code></td>
<td style="text-align: left">integer</td>
<td>Maximum waiting time in seconds, or null if not available</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_operator</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started by operator on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chats_by_visitor</code></td>
<td style="text-align: left">integer</td>
<td>Number of chats started by visitor on this time slot</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">average_duration</code></td>
<td style="text-align: left">integer</td>
<td>Average duration of chats, in seconds</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">average_active_duration</code></td>
<td style="text-align: left">integer</td>
<td>Averate duration of chats excluding any idle time, in seconds</td>
</tr>
</tbody></table>

<h2 id="per-room-chat-statistics-time-series">Per-room chat statistics time series</h2>

<p>You can get the time-based aggregated chat statistics per-room by making a GET request:</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/rooms/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the chat stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tag</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for chats that has been tagged with the given string. Can be given multiple times, when chat is included if it has any of the tags.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">min_message_count</code></td>
<td style="text-align: left">integer</td>
<td style="text-align: left">0</td>
<td>Only statistics for chats with at least this number of total messages, by either visitor or operator, excluding autosuggest messages.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">is_ended</code></td>
<td style="text-align: left">true/false/none</td>
<td style="text-align: left"></td>
<td>If <code class="prettyprint">true</code>, then only include chats that have actually ended. If <code class="prettyprint">false</code>, only include chats that have not been ended yet. If omitted or empty string, then do not filter.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"num_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/chatstats/rooms/timeseries?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous_page_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_gid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysdboogj2zc6i34ciaafd33h2tjzkyr4stes3cabdai37qm"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_gid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ahpalbmjr5y6cel4deaaebdsmbm25lir4sbfg3cabdai37qm"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">120.04</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">120.556</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">90.920</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">127.91</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.339</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">98.369</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_autosuggest"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total_autosuggests"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
          </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.45</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.05</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chats_by_visitor"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">163.084</span><span class="p">,</span><span class="w">
          </span><span class="nt">"average_active_duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">92.863</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
This endpoint returns a paginated collection!
</aside>

<p>Unlike the other time series endpoints, this endpoint returns a <a title="Paginated collections" href="#paginated-collections">paginated collection</a>.</p>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left">integer</td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, eg. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">rooms</code></td>
<td style="text-align: left">array of objects</td>
<td>Statistics for every room, with same attributes than the chat statistics time series, except the <code class="prettyprint">start_time</code>. Instead, it has the attribute <code class="prettyprint">room_gid</code> containing the Giosg-signed token identifying the room.</td>
</tr>
</tbody></table>

<h2 id="operator-statistics-time-series">Operator statistics time series</h2>

<p>You can get the time-based aggregated operator statistics by making a GET request.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/operatorstats/timeseries</code></p>

<aside class="warning">
<strong>Note</strong> that this API provides data only starting from 2015-05-12!
</aside>

<p>You may define these optional GET parameters to filter the operator stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat).</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined as Giosg-signed ID string used in chats</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">personnel_email</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics for this operator, defined by email address</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T17:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"online_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logged_in_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chatting_operators"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if a timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">online_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators online</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">logged_in_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators logged in</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chatting_operators</code></td>
<td style="text-align: left">integer</td>
<td>Number of operators chatting</td>
</tr>
</tbody></table>

<h2 id="sales-statistics-time-series">Sales statistics time series</h2>

<p>You can get the aggregated shopping cart (giosg BASKET) statistics by making a GET request.</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v5/orgs/&lt;organization_id&gt;/reports/salesstats/timeseries</code></p>

<p>You may define define these optional GET parameters to localize and filter the sales stats aggregation results.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Format</th>
<th style="text-align: left">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">room_gid</code></td>
<td style="text-align: left">string</td>
<td style="text-align: left"></td>
<td>Only statistics on the room with this Giosg-signed ID string (used in chat). If not given, sales stats will be calculated from all company&rsquo;s rooms.</td>
</tr>
</tbody></table>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T15:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2300.35"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1800.20"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_monthly_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94.00"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"monthly_chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.50"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts"</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts_with_chat"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T16:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2345.80"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1740.99"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_monthly_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.00"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"monthly_chat_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts"</span><span class="p">:</span><span class="w"> </span><span class="mi">239</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchased_carts_with_chat"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">start_time</code></td>
<td style="text-align: left"><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>The starting time of this aggregation. Its duration is equal to the selected time interval, e.g. 1 hour. This time is in the &ldquo;local&rdquo; time if the timezone was defined, otherwise it is in UTC.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_sales</code></td>
<td style="text-align: left">string</td>
<td>Total sales, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">chat_sales</code></td>
<td style="text-align: left">string</td>
<td>Sales related to a chat conversation that has at least 3 messages, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total_monthly_sales</code></td>
<td style="text-align: left">string</td>
<td>Total monthly billable sales, as a decimal string</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">monthly_chat_sales</code></td>
<td style="text-align: left">string</td>
<td>Monthly billable sales related to a chat conversation that has at least 3 messages</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">purchased_carts</code></td>
<td style="text-align: left">string</td>
<td>Count of carts that have been locked/purchased.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">purchased_carts_with_chat</code></td>
<td style="text-align: left">string</td>
<td>Count of carts with conversation that have been locked/purchased</td>
</tr>
</tbody></table>

          <h1 id="real-time-reporting-api">Real-time Reporting API</h1>

<h2 id="room-real-time-statistics">Room real-time statistics</h2>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of real-time statistics for the rooms you have access to</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v4/reporting/realtime/rooms</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td>string</td>
<td></td>
<td>filter results to only these (comma delimited) rooms</td>
</tr>
<tr>
<td><code class="prettyprint">include_shared</code></td>
<td>boolean</td>
<td>false</td>
<td>include shared rooms to the results</td>
</tr>
<tr>
<td><code class="prettyprint">timezone</code></td>
<td>string</td>
<td>UTC</td>
<td>Name of the <a title="List of tz database time zones" href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones">timezone</a> to use for time based aggregation e.g. <code class="prettyprint">Europe/Helsinki</code></td>
</tr>
</tbody></table>

<p>A response contains following fields:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domain.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"free_capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"waiting_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_wait_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"missed_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"real_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_visitors"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td>string</td>
<td><a title="Universally Unique Identifier" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> string identifier</td>
</tr>
<tr>
<td>room_name</td>
<td>string</td>
<td>Room name.</td>
</tr>
<tr>
<td>currently_open_chats</td>
<td>integer</td>
<td>Currently open chats.</td>
</tr>
<tr>
<td>free_capacity</td>
<td>integer</td>
<td>Free capacity across all online operator in the room.</td>
</tr>
<tr>
<td>waiting_chats</td>
<td>integer</td>
<td>Currently waiting chats.</td>
</tr>
<tr>
<td>average_wait_time</td>
<td>float</td>
<td>Average wait time of the currently waiting visitors.</td>
</tr>
<tr>
<td>max_wait_time</td>
<td>float</td>
<td>Maximum wait time of the currently waiting visitors.</td>
</tr>
<tr>
<td>real_chats</td>
<td>integer</td>
<td>Real chat conversations today.</td>
</tr>
<tr>
<td>missed_chats</td>
<td>integer</td>
<td>Chats missed by operators today.</td>
</tr>
<tr>
<td>current_visitors</td>
<td>integer</td>
<td>Currently active visitors on the webpage.</td>
</tr>
</tbody></table>

<h2 id="user-real-time-statistics">User real-time statistics</h2>

<p>Return a <a title="Paginated collections" href="#paginated-collections">paginated collection</a> of real-time statistics for operators</p>

<p><code class="prettyprint">GET https://service.giosg.com/api/v4/reporting/realtime/users</code></p>

<p>This endpoint accepts the following GET parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">user_id</code></td>
<td>integer</td>
<td></td>
<td>filter results to only these (comma delimited) users</td>
</tr>
</tbody></table>

<p>A response contains following fields:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name@domain.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_logged_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"free_capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currently_open_chats"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6a850ca-e1d3-11e4-9706-38b1dbe48b5b"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domain.com"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>currently_open_chats</td>
<td>integer</td>
<td>Currently open chats.</td>
</tr>
<tr>
<td>free_capacity</td>
<td>integer</td>
<td>Free capacity.</td>
</tr>
<tr>
<td>rooms</td>
<td>array of objects</td>
<td></td>
</tr>
<tr>
<td>teams</td>
<td>array of objects</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="socket-api">Socket API</h1>

<p>You can listen real-time notifications about any interesting changes in the system by subscribing a <strong>channel on the message router</strong>.</p>

<h2 id="retrieving-message-router-information">Retrieving message router information</h2>
<pre class="highlight plaintext"><code>GET https://service.giosg.com/api/v5/messagerouter
</code></pre>

<blockquote>
<p>An example response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://messagerouter.giosg.com/003/2/router"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"permission_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e30.we2snuuhq-cnPk-GMJVoBhyZ7ZKPa95Qxe_3VkEaf_E"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-22T11:25:30.595Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>In order to make a connection to the message router you need to make a HTTP request to the following endpoint:</p>

<p><code class="prettyprint">GET /api/v5/messagerouter</code></p>

<p>This returns an object with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>string</td>
<td>The URL where the client should open the socket connection.</td>
</tr>
<tr>
<td><code class="prettyprint">permission_token</code></td>
<td>string</td>
<td>A JWT permission token that is required when subscribing to real-time channels.</td>
</tr>
<tr>
<td><code class="prettyprint">expires_at</code></td>
<td><a title="Date/time format" href="#date-time-format">date/time</a></td>
<td>When the permission token expires. You should retrieve a new token before this.</td>
</tr>
<tr>
<td><code class="prettyprint">expires_in</code></td>
<td>integer</td>
<td>After how many seconds the permission token will expire. You should retrieve a new token before this.</td>
</tr>
</tbody></table>

<h2 id="subscribing-socket-channels">Subscribing socket channels</h2>

<p>Both users and visitors use a socket connection to receive real-time notifications about the changes. Notifications are delivered through <strong>channels</strong>.</p>

<p>Subscribing the channels is done in the following way:</p>

<p><strong>Step 1</strong>: The client opens a connection with <strong>message router</strong></p>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;channel_id&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;permission_token&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">{</span><span class="nt">"query"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Step 2</strong>: The client sends a <code class="prettyprint">sub</code> message with an arbitrary but unique query ID for a channel they want to subscribe.</p>

<p>The <code class="prettyprint">&lt;channel_id&gt;</code> must be the ID of the channel being subscribed. The channel ID matches the URL path of the API endpoint where the resource or resource collection would be retrieved. For example: <code class="prettyprint">/api/v5/client/visitors/e725acaa886f414986257bfe98d4db1c/chats</code> or <code class="prettyprint">/api/v5/orgs/dc5e32c1-54d2-4010-8c04-8b66e565698e/rooms/3f7f6058-af90-4499-b769-9bb348af5736</code>.</p>

<p>The <code class="prettyprint">&lt;permission_token&gt;</code> must be the JWT permission token string. If the token is valid and it grants the permission to the requested channel, then the subscription will be accepted.</p>

<aside class="warning">
If the connection is closed and then re-opened, the client needs to re-send the <code>sub</code> messages for every channel they still want to subscribe!
</aside>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"__qr__"</span><span class="p">,</span><span class="w"> </span><span class="p">[[]],</span><span class="w"> </span><span class="p">{</span><span class="nt">"query"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Step 3</strong>: The client receives a <code class="prettyprint">__qr__</code> message (query response) whenever the subscription is confirmed. The response message contains the same <code class="prettyprint">query</code> identifier. The client is now receiving notifications to this channel.</p>

<p>If the <code class="prettyprint">&lt;permission_token&gt;</code> was not valid or it did not grant access to the channel, then the object also contains <code class="prettyprint">fail</code> attribute with value <code class="prettyprint">true</code>.</p>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"changed"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;channel_id&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;action_type&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f39b84ae-c54c-4de3-a096-9ecde4f07f34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f39b84ae-c54c-4de3-a096-9ecde4f07f34"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Resource Name"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-31T16:32:17.879Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]]</span><span class="w">
</span></code></pre>

<p><strong>Step 4</strong>: The client receives a <code class="prettyprint">changed</code> message as a notification about an added, removed or changed resource.</p>

<p>There are three possible values for the <code class="prettyprint">action</code>:</p>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">added</code></td>
<td>A new resource has been added to the collection the channel represents. The <code class="prettyprint">resource</code> field contains the full resource object.</td>
</tr>
<tr>
<td><code class="prettyprint">changed</code></td>
<td>Attributes of a resource have changed. The <code class="prettyprint">resourceId</code> attribute describes which resource was changed (see below). The <code class="prettyprint">resource</code> field contains <strong>only the changed attributes</strong> of the resource.</td>
</tr>
<tr>
<td><code class="prettyprint">removed</code></td>
<td>A resource has been removed from the collection the channel represents. The <code class="prettyprint">resourceId</code> attribute describes which resource was removed (see below).</td>
</tr>
</tbody></table>

<p>When the channel represents a collection of resources, the <code class="prettyprint">resourceId</code> attribute describes which existing resource was altered. In most cases, the <code class="prettyprint">resourceId</code> matches the value of the resource&rsquo;s <code class="prettyprint">id</code> attribute. However, in some cases the identity attribute may have some other name, so it is client&rsquo;s responsibility to assign the changes to the correct resource.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
